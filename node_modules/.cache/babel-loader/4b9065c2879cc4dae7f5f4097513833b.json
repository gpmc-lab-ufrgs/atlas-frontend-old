{"ast":null,"code":"import _keys from \"lodash/keys\";\nimport _includes from \"lodash/includes\";\nimport _uniq from \"lodash/uniq\";\nimport _omitBy from \"lodash/omitBy\";\nimport _pickBy from \"lodash/pickBy\";\nimport _without from \"lodash/without\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _assign from \"lodash/assign\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar GLOBAL_EVENT_REGEX = /^onGlobal(.*)$/;\n/* Returns all own and shared events that should be attached to a single target element,\n * i.e. an individual bar specified by target: \"data\", eventKey: [index].\n * Returned events are scoped to the appropriate state. Either that of the component itself\n * (i.e. VictoryBar) in the case of own events, or that of the parent component\n * (i.e. VictoryChart) in the case of shared events\n */\n// eslint-disable-next-line max-params,no-shadow\n\nexport function getEvents(props, target, eventKey, getScopedEvents) {\n  var _this = this; // Returns all events that apply to a particular target element\n\n\n  var getEventsByTarget = function (events) {\n    var getSelectedEvents = function () {\n      var targetEvents = events.reduce(function (memo, event) {\n        if (event.target !== undefined) {\n          var matchesTarget = Array.isArray(event.target) ? _includes(event.target, target) : \"\".concat(event.target) === \"\".concat(target);\n          return matchesTarget ? memo.concat(event) : memo;\n        }\n\n        return memo.concat(event);\n      }, []);\n\n      if (eventKey !== undefined && target !== \"parent\") {\n        return targetEvents.filter(function (obj) {\n          var targetKeys = obj.eventKey;\n\n          var useKey = function (key) {\n            return key ? \"\".concat(key) === \"\".concat(eventKey) : true;\n          };\n\n          return Array.isArray(targetKeys) ? targetKeys.some(function (k) {\n            return useKey(k);\n          }) : useKey(targetKeys);\n        });\n      }\n\n      return targetEvents;\n    };\n\n    var selectedEvents = getSelectedEvents();\n    return Array.isArray(selectedEvents) && selectedEvents.reduce(function (memo, event) {\n      return event ? _assign(memo, event.eventHandlers) : memo;\n    }, {});\n  };\n  /* Returns all events from props and defaultEvents from components. Events handlers\n   * specified in props will override handlers for the same event if they are also\n   * specified in defaultEvents of a sub-component\n   */\n\n\n  var getAllEvents = function () {\n    // Mandatory usage: `getEvents.bind(this)`\n\n    /* eslint-disable no-invalid-this */\n    if (Array.isArray(_this.componentEvents)) {\n      var _this$componentEvents;\n\n      return Array.isArray(props.events) ? (_this$componentEvents = _this.componentEvents).concat.apply(_this$componentEvents, _toConsumableArray(props.events)) : _this.componentEvents;\n    }\n    /* eslint-enable no-invalid-this */\n\n\n    return props.events;\n  };\n\n  var allEvents = getAllEvents();\n  var ownEvents = allEvents && _isFunction(getScopedEvents) ? getScopedEvents(getEventsByTarget(allEvents), target) : undefined;\n\n  if (!props.sharedEvents) {\n    return ownEvents;\n  }\n\n  var getSharedEvents = props.sharedEvents.getEvents;\n  var sharedEvents = props.sharedEvents.events && getSharedEvents(getEventsByTarget(props.sharedEvents.events), target);\n  return _assign({}, sharedEvents, ownEvents);\n}\n/* Returns a modified events object where each event handler is replaced by a new\n * function that calls the original handler and then calls setState with the return\n * of the original event handler assigned to state property that maps to the target\n * element.\n */\n// eslint-disable-next-line max-params\n\nexport function getScopedEvents(events, namespace, childType, baseProps) {\n  var _this2 = this;\n\n  if (_isEmpty(events)) {\n    return {};\n  } // Mandatory usage: `getScopedEvents.bind(this)`\n  // eslint-disable-next-line no-invalid-this\n\n\n  baseProps = baseProps || this.baseProps; // returns the original base props or base state of a given target element\n\n  var getTargetProps = function (identifier, type) {\n    var childName = identifier.childName,\n        target = identifier.target,\n        key = identifier.key; // eslint-disable-next-line no-invalid-this\n\n    var baseType = type === \"props\" ? baseProps : _this2.state || {};\n    var base = childName === undefined || childName === null || !baseType[childName] ? baseType : baseType[childName];\n    return key === \"parent\" ? base.parent : base[key] && base[key][target];\n  }; // Returns the state object with the mutation caused by a given eventReturn\n  // applied to the appropriate property on the state object\n\n\n  var parseEvent = function (eventReturn, eventKey) {\n    var childNames = namespace === \"parent\" ? eventReturn.childName : eventReturn.childName || childType;\n    var target = eventReturn.target || namespace; // returns all eventKeys to modify for a targeted childName\n\n    var getKeys = function (childName) {\n      if (target === \"parent\") {\n        return \"parent\";\n      }\n\n      if (eventReturn.eventKey === \"all\") {\n        return baseProps[childName] ? _without(_keys(baseProps[childName]), \"parent\") : _without(_keys(baseProps), \"parent\");\n      } else if (eventReturn.eventKey === undefined && eventKey === \"parent\") {\n        return baseProps[childName] ? _keys(baseProps[childName]) : _keys(baseProps);\n      }\n\n      return eventReturn.eventKey !== undefined ? eventReturn.eventKey : eventKey;\n    }; // returns the state object with mutated props applied for a single key\n\n\n    var getMutationObject = function (key, childName) {\n      // eslint-disable-next-line no-invalid-this\n      var baseState = _this2.state || {};\n\n      if (!_isFunction(eventReturn.mutation)) {\n        return baseState;\n      }\n\n      var mutationTargetProps = getTargetProps({\n        childName: childName,\n        key: key,\n        target: target\n      }, \"props\");\n      var mutationTargetState = getTargetProps({\n        childName: childName,\n        key: key,\n        target: target\n      }, \"state\");\n      var mutatedProps = eventReturn.mutation(_assign({}, mutationTargetProps, mutationTargetState), baseProps);\n      var childState = baseState[childName] || {};\n\n      var filterState = function (state) {\n        if (state[key] && state[key][target]) {\n          delete state[key][target];\n        }\n\n        if (state[key] && !_keys(state[key]).length) {\n          delete state[key];\n        }\n\n        return state;\n      };\n\n      var extendState = function (state) {\n        return target === \"parent\" ? _assign(state, _defineProperty({}, key, _assign(state[key], mutatedProps))) : _assign(state, _defineProperty({}, key, _assign(state[key], _defineProperty({}, target, mutatedProps))));\n      };\n\n      var updateState = function (state) {\n        return mutatedProps ? extendState(state) : filterState(state);\n      };\n\n      return childName !== undefined && childName !== null ? _assign(baseState, _defineProperty({}, childName, updateState(childState))) : updateState(baseState);\n    }; // returns entire mutated state for a given childName\n\n\n    var getReturnByChild = function (childName) {\n      var mutationKeys = getKeys(childName);\n      return Array.isArray(mutationKeys) ? mutationKeys.reduce(function (memo, key) {\n        return _assign(memo, getMutationObject(key, childName));\n      }, {}) : getMutationObject(mutationKeys, childName);\n    }; // returns an entire mutated state for all children\n\n\n    var allChildNames = childNames === \"all\" ? _without(_keys(baseProps), \"parent\") : childNames;\n    return Array.isArray(allChildNames) ? allChildNames.reduce(function (memo, childName) {\n      return _assign(memo, getReturnByChild(childName));\n    }, {}) : getReturnByChild(allChildNames);\n  }; // Parses an array of event returns into a single state mutation\n\n\n  var parseEventReturn = function (eventReturn, eventKey) {\n    return Array.isArray(eventReturn) ? eventReturn.reduce(function (memo, props) {\n      memo = _assign({}, memo, parseEvent(props, eventKey));\n      return memo;\n    }, {}) : parseEvent(eventReturn, eventKey);\n  };\n\n  var compileCallbacks = function (eventReturn) {\n    var getCallback = function (obj) {\n      return _isFunction(obj.callback) && obj.callback;\n    };\n\n    var callbacks = Array.isArray(eventReturn) ? eventReturn.map(function (evtObj) {\n      return getCallback(evtObj);\n    }) : [getCallback(eventReturn)];\n    var callbackArray = callbacks.filter(function (callback) {\n      return callback !== false;\n    });\n    return callbackArray.length ? function () {\n      return callbackArray.forEach(function (callback) {\n        return callback();\n      });\n    } : undefined;\n  }; // A function that calls a particular event handler, parses its return\n  // into a state mutation, and calls setState\n  // eslint-disable-next-line max-params\n\n\n  var onEvent = function (evt, childProps, eventKey, eventName) {\n    // eslint-disable-next-line no-invalid-this\n    var eventReturn = events[eventName](evt, childProps, eventKey, _this2);\n\n    if (!_isEmpty(eventReturn)) {\n      var callbacks = compileCallbacks(eventReturn); // eslint-disable-next-line no-invalid-this\n\n      _this2.setState(parseEventReturn(eventReturn, eventKey), callbacks);\n    }\n  }; // returns a new events object with enhanced event handlers\n\n\n  return _keys(events).reduce(function (memo, event) {\n    memo[event] = onEvent;\n    return memo;\n  }, {});\n}\n/* Returns a partially applied event handler for a specific target element\n * This allows event handlers to have access to props controlling each element\n */\n\nexport function getPartialEvents(events, eventKey, childProps) {\n  return events ? _keys(events).reduce(function (memo, eventName) {\n    var appliedEvent = function (evt) {\n      return events[eventName](evt, childProps, eventKey, eventName);\n    };\n\n    memo[eventName] = appliedEvent;\n    return memo;\n  }, {}) : {};\n}\n/* Returns the property of the state object corresponding to event changes for\n * a particular element\n */\n\nexport function getEventState(eventKey, namespace, childType) {\n  // Mandatory usage: `getEventState.bind(this)`\n  // eslint-disable-next-line no-invalid-this\n  var state = this.state || {};\n\n  if (!childType) {\n    return eventKey === \"parent\" ? state[eventKey] && state[eventKey][namespace] || state[eventKey] : state[eventKey] && state[eventKey][namespace];\n  }\n\n  return state[childType] && state[childType][eventKey] && state[childType][eventKey][namespace];\n}\n/**\n * Returns a set of all mutations for shared events\n *\n * @param  {Array} mutations an array of mutations objects\n * @param  {Object} baseProps an object that describes all props for children of VictorySharedEvents\n * @param  {Object} baseState an object that describes state for children of VictorySharedEvents\n * @param  {Array} childNames an array of childNames\n *\n * @return {Object} a object describing all mutations for VictorySharedEvents\n */\n// eslint-disable-next-line max-params\n\nexport function getExternalMutationsWithChildren(mutations, baseProps, baseState, childNames) {\n  baseProps = baseProps || {};\n  baseState = baseState || {};\n  return childNames.reduce(function (memo, childName) {\n    var childState = baseState[childName];\n    var mutation = getExternalMutations(mutations, baseProps[childName], baseState[childName], childName);\n    memo[childName] = mutation ? mutation : childState;\n    return _pickBy(memo, function (v) {\n      return !_isEmpty(v);\n    });\n  }, {});\n}\n/**\n * Returns a set of all mutations for a component\n *\n * @param  {Array} mutations an array of mutations objects\n * @param  {Object} baseProps a props object (scoped to a childName when used by shared events)\n * @param  {Object} baseState a state object (scoped to a childName when used by shared events)\n * @param  {String} childName an optional childName\n *\n * @return {Object} a object describing mutations for a given component\n */\n// eslint-disable-next-line max-params\n\nexport function getExternalMutations(mutations, baseProps, baseState, childName) {\n  baseProps = baseProps || {};\n  baseState = baseState || {};\n\n  var eventKeys = _keys(baseProps);\n\n  return eventKeys.reduce(function (memo, eventKey) {\n    var keyState = baseState[eventKey] || {};\n    var keyProps = baseProps[eventKey] || {};\n\n    if (eventKey === \"parent\") {\n      var identifier = {\n        eventKey: eventKey,\n        target: \"parent\"\n      };\n      var mutation = getExternalMutation(mutations, keyProps, keyState, identifier);\n      memo[eventKey] = mutation !== undefined ? _assign({}, keyState, mutation) : keyState;\n    } else {\n      // use keys from both state and props so that elements not intially included in baseProps\n      // will be used. (i.e. labels)\n      var targets = _uniq(_keys(keyProps).concat(_keys(keyState)));\n\n      memo[eventKey] = targets.reduce(function (m, target) {\n        var identifier = {\n          eventKey: eventKey,\n          target: target,\n          childName: childName\n        };\n        var mutation = getExternalMutation(mutations, keyProps[target], keyState[target], identifier);\n        m[target] = mutation !== undefined ? _assign({}, keyState[target], mutation) : keyState[target];\n        return _pickBy(m, function (v) {\n          return !_isEmpty(v);\n        });\n      }, {});\n    }\n\n    return _pickBy(memo, function (v) {\n      return !_isEmpty(v);\n    });\n  }, {});\n}\n/**\n * Returns a set of mutations for a particular element given scoped baseProps and baseState\n *\n * @param  {Array} mutations an array of mutations objects\n * @param  {Object} baseProps a props object (scoped the element specified by the identifier)\n * @param  {Object} baseState a state object (scoped the element specified by the identifier)\n * @param  {Object} identifier { eventKey, target, childName }\n *\n * @return {Object | undefined} a object describing mutations for a given element, or undefined\n */\n// eslint-disable-next-line max-params\n\nexport function getExternalMutation(mutations, baseProps, baseState, identifier) {\n  var filterMutations = function (mutation, type) {\n    if (typeof mutation[type] === \"string\") {\n      return mutation[type] === \"all\" || mutation[type] === identifier[type];\n    } else if (Array.isArray(mutation[type])) {\n      // coerce arrays to strings before matching\n      var stringArray = mutation[type].map(function (m) {\n        return \"\".concat(m);\n      });\n      return _includes(stringArray, identifier[type]);\n    } else {\n      return false;\n    }\n  };\n\n  mutations = Array.isArray(mutations) ? mutations : [mutations];\n  var scopedMutations = mutations;\n\n  if (identifier.childName) {\n    scopedMutations = mutations.filter(function (m) {\n      return filterMutations(m, \"childName\");\n    });\n  } // find any mutation objects that match the target\n\n\n  var targetMutations = scopedMutations.filter(function (m) {\n    return filterMutations(m, \"target\");\n  });\n\n  if (_isEmpty(targetMutations)) {\n    return undefined;\n  }\n\n  var keyMutations = targetMutations.filter(function (m) {\n    return filterMutations(m, \"eventKey\");\n  });\n\n  if (_isEmpty(keyMutations)) {\n    return undefined;\n  }\n\n  return keyMutations.reduce(function (memo, curr) {\n    var mutationFunction = curr && _isFunction(curr.mutation) ? curr.mutation : function () {\n      return undefined;\n    };\n    var currentMutation = mutationFunction(_assign({}, baseProps, baseState));\n    return _assign({}, memo, currentMutation);\n  }, {});\n}\n/* Returns an array of defaultEvents from sub-components of a given component.\n * i.e. any static `defaultEvents` on `labelComponent` will be returned\n */\n\nexport function getComponentEvents(props, components) {\n  var events = Array.isArray(components) && components.reduce(function (memo, componentName) {\n    var _memo;\n\n    var component = props[componentName];\n    var defaultEvents = component && component.type && component.type.defaultEvents;\n    var componentEvents = _isFunction(defaultEvents) ? defaultEvents(component.props) : defaultEvents;\n    memo = Array.isArray(componentEvents) ? (_memo = memo).concat.apply(_memo, _toConsumableArray(componentEvents)) : memo;\n    return memo;\n  }, []);\n  return events && events.length ? events : undefined;\n}\nexport function getGlobalEventNameFromKey(key) {\n  var match = key.match(GLOBAL_EVENT_REGEX);\n  return match && match[1] && match[1].toLowerCase();\n}\nexport var getGlobalEvents = function (events) {\n  return _pickBy(events, function (_, key) {\n    return GLOBAL_EVENT_REGEX.test(key);\n  });\n};\nexport var omitGlobalEvents = function (events) {\n  return _omitBy(events, function (_, key) {\n    return GLOBAL_EVENT_REGEX.test(key);\n  });\n};\nexport var emulateReactEvent = function (event) {\n  return _assign(event, {\n    nativeEvent: event\n  });\n};","map":{"version":3,"names":["_keys","_includes","_uniq","_omitBy","_pickBy","_without","_isFunction","_isEmpty","_assign","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","GLOBAL_EVENT_REGEX","getEvents","props","target","eventKey","getScopedEvents","_this","getEventsByTarget","events","getSelectedEvents","targetEvents","reduce","memo","event","undefined","matchesTarget","concat","filter","targetKeys","useKey","some","k","selectedEvents","eventHandlers","getAllEvents","componentEvents","_this$componentEvents","apply","allEvents","ownEvents","sharedEvents","getSharedEvents","namespace","childType","baseProps","_this2","getTargetProps","identifier","type","childName","baseType","state","base","parent","parseEvent","eventReturn","childNames","getKeys","getMutationObject","baseState","mutation","mutationTargetProps","mutationTargetState","mutatedProps","childState","filterState","extendState","updateState","getReturnByChild","mutationKeys","allChildNames","parseEventReturn","compileCallbacks","getCallback","callback","callbacks","map","evtObj","callbackArray","forEach","onEvent","evt","childProps","eventName","setState","getPartialEvents","appliedEvent","getEventState","getExternalMutationsWithChildren","mutations","getExternalMutations","v","eventKeys","keyState","keyProps","getExternalMutation","targets","m","filterMutations","stringArray","scopedMutations","targetMutations","keyMutations","curr","mutationFunction","currentMutation","getComponentEvents","components","componentName","_memo","component","defaultEvents","getGlobalEventNameFromKey","match","toLowerCase","getGlobalEvents","_","omitGlobalEvents","emulateReactEvent","nativeEvent"],"sources":["/Users/leonardogomes/Documents/atlas/atlas/node_modules/victory-core/es/victory-util/events.js"],"sourcesContent":["import _keys from \"lodash/keys\";\nimport _includes from \"lodash/includes\";\nimport _uniq from \"lodash/uniq\";\nimport _omitBy from \"lodash/omitBy\";\nimport _pickBy from \"lodash/pickBy\";\nimport _without from \"lodash/without\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _assign from \"lodash/assign\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar GLOBAL_EVENT_REGEX = /^onGlobal(.*)$/;\n/* Returns all own and shared events that should be attached to a single target element,\n * i.e. an individual bar specified by target: \"data\", eventKey: [index].\n * Returned events are scoped to the appropriate state. Either that of the component itself\n * (i.e. VictoryBar) in the case of own events, or that of the parent component\n * (i.e. VictoryChart) in the case of shared events\n */\n// eslint-disable-next-line max-params,no-shadow\n\nexport function getEvents(props, target, eventKey, getScopedEvents) {\n  var _this = this;\n\n  // Returns all events that apply to a particular target element\n  var getEventsByTarget = function (events) {\n    var getSelectedEvents = function () {\n      var targetEvents = events.reduce(function (memo, event) {\n        if (event.target !== undefined) {\n          var matchesTarget = Array.isArray(event.target) ? _includes(event.target, target) : \"\".concat(event.target) === \"\".concat(target);\n          return matchesTarget ? memo.concat(event) : memo;\n        }\n\n        return memo.concat(event);\n      }, []);\n\n      if (eventKey !== undefined && target !== \"parent\") {\n        return targetEvents.filter(function (obj) {\n          var targetKeys = obj.eventKey;\n\n          var useKey = function (key) {\n            return key ? \"\".concat(key) === \"\".concat(eventKey) : true;\n          };\n\n          return Array.isArray(targetKeys) ? targetKeys.some(function (k) {\n            return useKey(k);\n          }) : useKey(targetKeys);\n        });\n      }\n\n      return targetEvents;\n    };\n\n    var selectedEvents = getSelectedEvents();\n    return Array.isArray(selectedEvents) && selectedEvents.reduce(function (memo, event) {\n      return event ? _assign(memo, event.eventHandlers) : memo;\n    }, {});\n  };\n  /* Returns all events from props and defaultEvents from components. Events handlers\n   * specified in props will override handlers for the same event if they are also\n   * specified in defaultEvents of a sub-component\n   */\n\n\n  var getAllEvents = function () {\n    // Mandatory usage: `getEvents.bind(this)`\n\n    /* eslint-disable no-invalid-this */\n    if (Array.isArray(_this.componentEvents)) {\n      var _this$componentEvents;\n\n      return Array.isArray(props.events) ? (_this$componentEvents = _this.componentEvents).concat.apply(_this$componentEvents, _toConsumableArray(props.events)) : _this.componentEvents;\n    }\n    /* eslint-enable no-invalid-this */\n\n\n    return props.events;\n  };\n\n  var allEvents = getAllEvents();\n  var ownEvents = allEvents && _isFunction(getScopedEvents) ? getScopedEvents(getEventsByTarget(allEvents), target) : undefined;\n\n  if (!props.sharedEvents) {\n    return ownEvents;\n  }\n\n  var getSharedEvents = props.sharedEvents.getEvents;\n  var sharedEvents = props.sharedEvents.events && getSharedEvents(getEventsByTarget(props.sharedEvents.events), target);\n  return _assign({}, sharedEvents, ownEvents);\n}\n/* Returns a modified events object where each event handler is replaced by a new\n * function that calls the original handler and then calls setState with the return\n * of the original event handler assigned to state property that maps to the target\n * element.\n */\n// eslint-disable-next-line max-params\n\nexport function getScopedEvents(events, namespace, childType, baseProps) {\n  var _this2 = this;\n\n  if (_isEmpty(events)) {\n    return {};\n  } // Mandatory usage: `getScopedEvents.bind(this)`\n  // eslint-disable-next-line no-invalid-this\n\n\n  baseProps = baseProps || this.baseProps; // returns the original base props or base state of a given target element\n\n  var getTargetProps = function (identifier, type) {\n    var childName = identifier.childName,\n        target = identifier.target,\n        key = identifier.key; // eslint-disable-next-line no-invalid-this\n\n    var baseType = type === \"props\" ? baseProps : _this2.state || {};\n    var base = childName === undefined || childName === null || !baseType[childName] ? baseType : baseType[childName];\n    return key === \"parent\" ? base.parent : base[key] && base[key][target];\n  }; // Returns the state object with the mutation caused by a given eventReturn\n  // applied to the appropriate property on the state object\n\n\n  var parseEvent = function (eventReturn, eventKey) {\n    var childNames = namespace === \"parent\" ? eventReturn.childName : eventReturn.childName || childType;\n    var target = eventReturn.target || namespace; // returns all eventKeys to modify for a targeted childName\n\n    var getKeys = function (childName) {\n      if (target === \"parent\") {\n        return \"parent\";\n      }\n\n      if (eventReturn.eventKey === \"all\") {\n        return baseProps[childName] ? _without(_keys(baseProps[childName]), \"parent\") : _without(_keys(baseProps), \"parent\");\n      } else if (eventReturn.eventKey === undefined && eventKey === \"parent\") {\n        return baseProps[childName] ? _keys(baseProps[childName]) : _keys(baseProps);\n      }\n\n      return eventReturn.eventKey !== undefined ? eventReturn.eventKey : eventKey;\n    }; // returns the state object with mutated props applied for a single key\n\n\n    var getMutationObject = function (key, childName) {\n      // eslint-disable-next-line no-invalid-this\n      var baseState = _this2.state || {};\n\n      if (!_isFunction(eventReturn.mutation)) {\n        return baseState;\n      }\n\n      var mutationTargetProps = getTargetProps({\n        childName: childName,\n        key: key,\n        target: target\n      }, \"props\");\n      var mutationTargetState = getTargetProps({\n        childName: childName,\n        key: key,\n        target: target\n      }, \"state\");\n      var mutatedProps = eventReturn.mutation(_assign({}, mutationTargetProps, mutationTargetState), baseProps);\n      var childState = baseState[childName] || {};\n\n      var filterState = function (state) {\n        if (state[key] && state[key][target]) {\n          delete state[key][target];\n        }\n\n        if (state[key] && !_keys(state[key]).length) {\n          delete state[key];\n        }\n\n        return state;\n      };\n\n      var extendState = function (state) {\n        return target === \"parent\" ? _assign(state, _defineProperty({}, key, _assign(state[key], mutatedProps))) : _assign(state, _defineProperty({}, key, _assign(state[key], _defineProperty({}, target, mutatedProps))));\n      };\n\n      var updateState = function (state) {\n        return mutatedProps ? extendState(state) : filterState(state);\n      };\n\n      return childName !== undefined && childName !== null ? _assign(baseState, _defineProperty({}, childName, updateState(childState))) : updateState(baseState);\n    }; // returns entire mutated state for a given childName\n\n\n    var getReturnByChild = function (childName) {\n      var mutationKeys = getKeys(childName);\n      return Array.isArray(mutationKeys) ? mutationKeys.reduce(function (memo, key) {\n        return _assign(memo, getMutationObject(key, childName));\n      }, {}) : getMutationObject(mutationKeys, childName);\n    }; // returns an entire mutated state for all children\n\n\n    var allChildNames = childNames === \"all\" ? _without(_keys(baseProps), \"parent\") : childNames;\n    return Array.isArray(allChildNames) ? allChildNames.reduce(function (memo, childName) {\n      return _assign(memo, getReturnByChild(childName));\n    }, {}) : getReturnByChild(allChildNames);\n  }; // Parses an array of event returns into a single state mutation\n\n\n  var parseEventReturn = function (eventReturn, eventKey) {\n    return Array.isArray(eventReturn) ? eventReturn.reduce(function (memo, props) {\n      memo = _assign({}, memo, parseEvent(props, eventKey));\n      return memo;\n    }, {}) : parseEvent(eventReturn, eventKey);\n  };\n\n  var compileCallbacks = function (eventReturn) {\n    var getCallback = function (obj) {\n      return _isFunction(obj.callback) && obj.callback;\n    };\n\n    var callbacks = Array.isArray(eventReturn) ? eventReturn.map(function (evtObj) {\n      return getCallback(evtObj);\n    }) : [getCallback(eventReturn)];\n    var callbackArray = callbacks.filter(function (callback) {\n      return callback !== false;\n    });\n    return callbackArray.length ? function () {\n      return callbackArray.forEach(function (callback) {\n        return callback();\n      });\n    } : undefined;\n  }; // A function that calls a particular event handler, parses its return\n  // into a state mutation, and calls setState\n  // eslint-disable-next-line max-params\n\n\n  var onEvent = function (evt, childProps, eventKey, eventName) {\n    // eslint-disable-next-line no-invalid-this\n    var eventReturn = events[eventName](evt, childProps, eventKey, _this2);\n\n    if (!_isEmpty(eventReturn)) {\n      var callbacks = compileCallbacks(eventReturn); // eslint-disable-next-line no-invalid-this\n\n      _this2.setState(parseEventReturn(eventReturn, eventKey), callbacks);\n    }\n  }; // returns a new events object with enhanced event handlers\n\n\n  return _keys(events).reduce(function (memo, event) {\n    memo[event] = onEvent;\n    return memo;\n  }, {});\n}\n/* Returns a partially applied event handler for a specific target element\n * This allows event handlers to have access to props controlling each element\n */\n\nexport function getPartialEvents(events, eventKey, childProps) {\n  return events ? _keys(events).reduce(function (memo, eventName) {\n    var appliedEvent = function (evt) {\n      return events[eventName](evt, childProps, eventKey, eventName);\n    };\n\n    memo[eventName] = appliedEvent;\n    return memo;\n  }, {}) : {};\n}\n/* Returns the property of the state object corresponding to event changes for\n * a particular element\n */\n\nexport function getEventState(eventKey, namespace, childType) {\n  // Mandatory usage: `getEventState.bind(this)`\n  // eslint-disable-next-line no-invalid-this\n  var state = this.state || {};\n\n  if (!childType) {\n    return eventKey === \"parent\" ? state[eventKey] && state[eventKey][namespace] || state[eventKey] : state[eventKey] && state[eventKey][namespace];\n  }\n\n  return state[childType] && state[childType][eventKey] && state[childType][eventKey][namespace];\n}\n/**\n * Returns a set of all mutations for shared events\n *\n * @param  {Array} mutations an array of mutations objects\n * @param  {Object} baseProps an object that describes all props for children of VictorySharedEvents\n * @param  {Object} baseState an object that describes state for children of VictorySharedEvents\n * @param  {Array} childNames an array of childNames\n *\n * @return {Object} a object describing all mutations for VictorySharedEvents\n */\n// eslint-disable-next-line max-params\n\nexport function getExternalMutationsWithChildren(mutations, baseProps, baseState, childNames) {\n  baseProps = baseProps || {};\n  baseState = baseState || {};\n  return childNames.reduce(function (memo, childName) {\n    var childState = baseState[childName];\n    var mutation = getExternalMutations(mutations, baseProps[childName], baseState[childName], childName);\n    memo[childName] = mutation ? mutation : childState;\n    return _pickBy(memo, function (v) {\n      return !_isEmpty(v);\n    });\n  }, {});\n}\n/**\n * Returns a set of all mutations for a component\n *\n * @param  {Array} mutations an array of mutations objects\n * @param  {Object} baseProps a props object (scoped to a childName when used by shared events)\n * @param  {Object} baseState a state object (scoped to a childName when used by shared events)\n * @param  {String} childName an optional childName\n *\n * @return {Object} a object describing mutations for a given component\n */\n// eslint-disable-next-line max-params\n\nexport function getExternalMutations(mutations, baseProps, baseState, childName) {\n  baseProps = baseProps || {};\n  baseState = baseState || {};\n\n  var eventKeys = _keys(baseProps);\n\n  return eventKeys.reduce(function (memo, eventKey) {\n    var keyState = baseState[eventKey] || {};\n    var keyProps = baseProps[eventKey] || {};\n\n    if (eventKey === \"parent\") {\n      var identifier = {\n        eventKey: eventKey,\n        target: \"parent\"\n      };\n      var mutation = getExternalMutation(mutations, keyProps, keyState, identifier);\n      memo[eventKey] = mutation !== undefined ? _assign({}, keyState, mutation) : keyState;\n    } else {\n      // use keys from both state and props so that elements not intially included in baseProps\n      // will be used. (i.e. labels)\n      var targets = _uniq(_keys(keyProps).concat(_keys(keyState)));\n\n      memo[eventKey] = targets.reduce(function (m, target) {\n        var identifier = {\n          eventKey: eventKey,\n          target: target,\n          childName: childName\n        };\n        var mutation = getExternalMutation(mutations, keyProps[target], keyState[target], identifier);\n        m[target] = mutation !== undefined ? _assign({}, keyState[target], mutation) : keyState[target];\n        return _pickBy(m, function (v) {\n          return !_isEmpty(v);\n        });\n      }, {});\n    }\n\n    return _pickBy(memo, function (v) {\n      return !_isEmpty(v);\n    });\n  }, {});\n}\n/**\n * Returns a set of mutations for a particular element given scoped baseProps and baseState\n *\n * @param  {Array} mutations an array of mutations objects\n * @param  {Object} baseProps a props object (scoped the element specified by the identifier)\n * @param  {Object} baseState a state object (scoped the element specified by the identifier)\n * @param  {Object} identifier { eventKey, target, childName }\n *\n * @return {Object | undefined} a object describing mutations for a given element, or undefined\n */\n// eslint-disable-next-line max-params\n\nexport function getExternalMutation(mutations, baseProps, baseState, identifier) {\n  var filterMutations = function (mutation, type) {\n    if (typeof mutation[type] === \"string\") {\n      return mutation[type] === \"all\" || mutation[type] === identifier[type];\n    } else if (Array.isArray(mutation[type])) {\n      // coerce arrays to strings before matching\n      var stringArray = mutation[type].map(function (m) {\n        return \"\".concat(m);\n      });\n      return _includes(stringArray, identifier[type]);\n    } else {\n      return false;\n    }\n  };\n\n  mutations = Array.isArray(mutations) ? mutations : [mutations];\n  var scopedMutations = mutations;\n\n  if (identifier.childName) {\n    scopedMutations = mutations.filter(function (m) {\n      return filterMutations(m, \"childName\");\n    });\n  } // find any mutation objects that match the target\n\n\n  var targetMutations = scopedMutations.filter(function (m) {\n    return filterMutations(m, \"target\");\n  });\n\n  if (_isEmpty(targetMutations)) {\n    return undefined;\n  }\n\n  var keyMutations = targetMutations.filter(function (m) {\n    return filterMutations(m, \"eventKey\");\n  });\n\n  if (_isEmpty(keyMutations)) {\n    return undefined;\n  }\n\n  return keyMutations.reduce(function (memo, curr) {\n    var mutationFunction = curr && _isFunction(curr.mutation) ? curr.mutation : function () {\n      return undefined;\n    };\n    var currentMutation = mutationFunction(_assign({}, baseProps, baseState));\n    return _assign({}, memo, currentMutation);\n  }, {});\n}\n/* Returns an array of defaultEvents from sub-components of a given component.\n * i.e. any static `defaultEvents` on `labelComponent` will be returned\n */\n\nexport function getComponentEvents(props, components) {\n  var events = Array.isArray(components) && components.reduce(function (memo, componentName) {\n    var _memo;\n\n    var component = props[componentName];\n    var defaultEvents = component && component.type && component.type.defaultEvents;\n    var componentEvents = _isFunction(defaultEvents) ? defaultEvents(component.props) : defaultEvents;\n    memo = Array.isArray(componentEvents) ? (_memo = memo).concat.apply(_memo, _toConsumableArray(componentEvents)) : memo;\n    return memo;\n  }, []);\n  return events && events.length ? events : undefined;\n}\nexport function getGlobalEventNameFromKey(key) {\n  var match = key.match(GLOBAL_EVENT_REGEX);\n  return match && match[1] && match[1].toLowerCase();\n}\nexport var getGlobalEvents = function (events) {\n  return _pickBy(events, function (_, key) {\n    return GLOBAL_EVENT_REGEX.test(key);\n  });\n};\nexport var omitGlobalEvents = function (events) {\n  return _omitBy(events, function (_, key) {\n    return GLOBAL_EVENT_REGEX.test(key);\n  });\n};\nexport var emulateReactEvent = function (event) {\n  return _assign(event, {\n    nativeEvent: event\n  });\n};"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,OAAP,MAAoB,eAApB;;AAEA,SAASC,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCC,KAAnC,EAA0C;EAAE,IAAID,GAAG,IAAID,GAAX,EAAgB;IAAEG,MAAM,CAACC,cAAP,CAAsBJ,GAAtB,EAA2BC,GAA3B,EAAgC;MAAEC,KAAK,EAAEA,KAAT;MAAgBG,UAAU,EAAE,IAA5B;MAAkCC,YAAY,EAAE,IAAhD;MAAsDC,QAAQ,EAAE;IAAhE,CAAhC;EAA0G,CAA5H,MAAkI;IAAEP,GAAG,CAACC,GAAD,CAAH,GAAWC,KAAX;EAAmB;;EAAC,OAAOF,GAAP;AAAa;;AAEjN,SAASQ,kBAAT,CAA4BC,GAA5B,EAAiC;EAAE,OAAOC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,2BAA2B,CAACH,GAAD,CAA/E,IAAwFI,kBAAkB,EAAjH;AAAsH;;AAEzJ,SAASA,kBAAT,GAA8B;EAAE,MAAM,IAAIC,SAAJ,CAAc,sIAAd,CAAN;AAA8J;;AAE9L,SAASF,2BAAT,CAAqCG,CAArC,EAAwCC,MAAxC,EAAgD;EAAE,IAAI,CAACD,CAAL,EAAQ;EAAQ,IAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAOE,iBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;EAAqC,IAAIE,CAAC,GAAGf,MAAM,CAACgB,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BN,CAA/B,EAAkCO,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;EAAwD,IAAIJ,CAAC,KAAK,QAAN,IAAkBH,CAAC,CAACQ,WAAxB,EAAqCL,CAAC,GAAGH,CAAC,CAACQ,WAAF,CAAcC,IAAlB;EAAwB,IAAIN,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAAzB,EAAgC,OAAOO,KAAK,CAACC,IAAN,CAAWX,CAAX,CAAP;EAAsB,IAAIG,CAAC,KAAK,WAAN,IAAqB,2CAA2CS,IAA3C,CAAgDT,CAAhD,CAAzB,EAA6E,OAAOD,iBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;AAAsC;;AAEha,SAASL,gBAAT,CAA0BiB,IAA1B,EAAgC;EAAE,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCD,IAAI,CAACC,MAAM,CAACC,QAAR,CAAJ,IAAyB,IAA1D,IAAkEF,IAAI,CAAC,YAAD,CAAJ,IAAsB,IAA5F,EAAkG,OAAOH,KAAK,CAACC,IAAN,CAAWE,IAAX,CAAP;AAA0B;;AAE9J,SAASlB,kBAAT,CAA4BD,GAA5B,EAAiC;EAAE,IAAIgB,KAAK,CAACM,OAAN,CAActB,GAAd,CAAJ,EAAwB,OAAOQ,iBAAiB,CAACR,GAAD,CAAxB;AAAgC;;AAE3F,SAASQ,iBAAT,CAA2BR,GAA3B,EAAgCuB,GAAhC,EAAqC;EAAE,IAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAGvB,GAAG,CAACwB,MAA7B,EAAqCD,GAAG,GAAGvB,GAAG,CAACwB,MAAV;;EAAkB,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAG,IAAIV,KAAJ,CAAUO,GAAV,CAAvB,EAAuCE,CAAC,GAAGF,GAA3C,EAAgDE,CAAC,EAAjD,EAAqD;IAAEC,IAAI,CAACD,CAAD,CAAJ,GAAUzB,GAAG,CAACyB,CAAD,CAAb;EAAmB;;EAAC,OAAOC,IAAP;AAAc;;AAEvL,IAAIC,kBAAkB,GAAG,gBAAzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkCC,QAAlC,EAA4CC,eAA5C,EAA6D;EAClE,IAAIC,KAAK,GAAG,IAAZ,CADkE,CAGlE;;;EACA,IAAIC,iBAAiB,GAAG,UAAUC,MAAV,EAAkB;IACxC,IAAIC,iBAAiB,GAAG,YAAY;MAClC,IAAIC,YAAY,GAAGF,MAAM,CAACG,MAAP,CAAc,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;QACtD,IAAIA,KAAK,CAACV,MAAN,KAAiBW,SAArB,EAAgC;UAC9B,IAAIC,aAAa,GAAG1B,KAAK,CAACM,OAAN,CAAckB,KAAK,CAACV,MAApB,IAA8BhD,SAAS,CAAC0D,KAAK,CAACV,MAAP,EAAeA,MAAf,CAAvC,GAAgE,GAAGa,MAAH,CAAUH,KAAK,CAACV,MAAhB,MAA4B,GAAGa,MAAH,CAAUb,MAAV,CAAhH;UACA,OAAOY,aAAa,GAAGH,IAAI,CAACI,MAAL,CAAYH,KAAZ,CAAH,GAAwBD,IAA5C;QACD;;QAED,OAAOA,IAAI,CAACI,MAAL,CAAYH,KAAZ,CAAP;MACD,CAPkB,EAOhB,EAPgB,CAAnB;;MASA,IAAIT,QAAQ,KAAKU,SAAb,IAA0BX,MAAM,KAAK,QAAzC,EAAmD;QACjD,OAAOO,YAAY,CAACO,MAAb,CAAoB,UAAUrD,GAAV,EAAe;UACxC,IAAIsD,UAAU,GAAGtD,GAAG,CAACwC,QAArB;;UAEA,IAAIe,MAAM,GAAG,UAAUtD,GAAV,EAAe;YAC1B,OAAOA,GAAG,GAAG,GAAGmD,MAAH,CAAUnD,GAAV,MAAmB,GAAGmD,MAAH,CAAUZ,QAAV,CAAtB,GAA4C,IAAtD;UACD,CAFD;;UAIA,OAAOf,KAAK,CAACM,OAAN,CAAcuB,UAAd,IAA4BA,UAAU,CAACE,IAAX,CAAgB,UAAUC,CAAV,EAAa;YAC9D,OAAOF,MAAM,CAACE,CAAD,CAAb;UACD,CAFkC,CAA5B,GAEFF,MAAM,CAACD,UAAD,CAFX;QAGD,CAVM,CAAP;MAWD;;MAED,OAAOR,YAAP;IACD,CAzBD;;IA2BA,IAAIY,cAAc,GAAGb,iBAAiB,EAAtC;IACA,OAAOpB,KAAK,CAACM,OAAN,CAAc2B,cAAd,KAAiCA,cAAc,CAACX,MAAf,CAAsB,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;MACnF,OAAOA,KAAK,GAAGnD,OAAO,CAACkD,IAAD,EAAOC,KAAK,CAACU,aAAb,CAAV,GAAwCX,IAApD;IACD,CAFuC,EAErC,EAFqC,CAAxC;EAGD,CAhCD;EAiCA;AACF;AACA;AACA;;;EAGE,IAAIY,YAAY,GAAG,YAAY;IAC7B;;IAEA;IACA,IAAInC,KAAK,CAACM,OAAN,CAAcW,KAAK,CAACmB,eAApB,CAAJ,EAA0C;MACxC,IAAIC,qBAAJ;;MAEA,OAAOrC,KAAK,CAACM,OAAN,CAAcO,KAAK,CAACM,MAApB,IAA8B,CAACkB,qBAAqB,GAAGpB,KAAK,CAACmB,eAA/B,EAAgDT,MAAhD,CAAuDW,KAAvD,CAA6DD,qBAA7D,EAAoFtD,kBAAkB,CAAC8B,KAAK,CAACM,MAAP,CAAtG,CAA9B,GAAsJF,KAAK,CAACmB,eAAnK;IACD;IACD;;;IAGA,OAAOvB,KAAK,CAACM,MAAb;EACD,CAbD;;EAeA,IAAIoB,SAAS,GAAGJ,YAAY,EAA5B;EACA,IAAIK,SAAS,GAAGD,SAAS,IAAIpE,WAAW,CAAC6C,eAAD,CAAxB,GAA4CA,eAAe,CAACE,iBAAiB,CAACqB,SAAD,CAAlB,EAA+BzB,MAA/B,CAA3D,GAAoGW,SAApH;;EAEA,IAAI,CAACZ,KAAK,CAAC4B,YAAX,EAAyB;IACvB,OAAOD,SAAP;EACD;;EAED,IAAIE,eAAe,GAAG7B,KAAK,CAAC4B,YAAN,CAAmB7B,SAAzC;EACA,IAAI6B,YAAY,GAAG5B,KAAK,CAAC4B,YAAN,CAAmBtB,MAAnB,IAA6BuB,eAAe,CAACxB,iBAAiB,CAACL,KAAK,CAAC4B,YAAN,CAAmBtB,MAApB,CAAlB,EAA+CL,MAA/C,CAA/D;EACA,OAAOzC,OAAO,CAAC,EAAD,EAAKoE,YAAL,EAAmBD,SAAnB,CAAd;AACD;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASxB,eAAT,CAAyBG,MAAzB,EAAiCwB,SAAjC,EAA4CC,SAA5C,EAAuDC,SAAvD,EAAkE;EACvE,IAAIC,MAAM,GAAG,IAAb;;EAEA,IAAI1E,QAAQ,CAAC+C,MAAD,CAAZ,EAAsB;IACpB,OAAO,EAAP;EACD,CALsE,CAKrE;EACF;;;EAGA0B,SAAS,GAAGA,SAAS,IAAI,KAAKA,SAA9B,CATuE,CAS9B;;EAEzC,IAAIE,cAAc,GAAG,UAAUC,UAAV,EAAsBC,IAAtB,EAA4B;IAC/C,IAAIC,SAAS,GAAGF,UAAU,CAACE,SAA3B;IAAA,IACIpC,MAAM,GAAGkC,UAAU,CAAClC,MADxB;IAAA,IAEItC,GAAG,GAAGwE,UAAU,CAACxE,GAFrB,CAD+C,CAGrB;;IAE1B,IAAI2E,QAAQ,GAAGF,IAAI,KAAK,OAAT,GAAmBJ,SAAnB,GAA+BC,MAAM,CAACM,KAAP,IAAgB,EAA9D;IACA,IAAIC,IAAI,GAAGH,SAAS,KAAKzB,SAAd,IAA2ByB,SAAS,KAAK,IAAzC,IAAiD,CAACC,QAAQ,CAACD,SAAD,CAA1D,GAAwEC,QAAxE,GAAmFA,QAAQ,CAACD,SAAD,CAAtG;IACA,OAAO1E,GAAG,KAAK,QAAR,GAAmB6E,IAAI,CAACC,MAAxB,GAAiCD,IAAI,CAAC7E,GAAD,CAAJ,IAAa6E,IAAI,CAAC7E,GAAD,CAAJ,CAAUsC,MAAV,CAArD;EACD,CARD,CAXuE,CAmBpE;EACH;;;EAGA,IAAIyC,UAAU,GAAG,UAAUC,WAAV,EAAuBzC,QAAvB,EAAiC;IAChD,IAAI0C,UAAU,GAAGd,SAAS,KAAK,QAAd,GAAyBa,WAAW,CAACN,SAArC,GAAiDM,WAAW,CAACN,SAAZ,IAAyBN,SAA3F;IACA,IAAI9B,MAAM,GAAG0C,WAAW,CAAC1C,MAAZ,IAAsB6B,SAAnC,CAFgD,CAEF;;IAE9C,IAAIe,OAAO,GAAG,UAAUR,SAAV,EAAqB;MACjC,IAAIpC,MAAM,KAAK,QAAf,EAAyB;QACvB,OAAO,QAAP;MACD;;MAED,IAAI0C,WAAW,CAACzC,QAAZ,KAAyB,KAA7B,EAAoC;QAClC,OAAO8B,SAAS,CAACK,SAAD,CAAT,GAAuBhF,QAAQ,CAACL,KAAK,CAACgF,SAAS,CAACK,SAAD,CAAV,CAAN,EAA8B,QAA9B,CAA/B,GAAyEhF,QAAQ,CAACL,KAAK,CAACgF,SAAD,CAAN,EAAmB,QAAnB,CAAxF;MACD,CAFD,MAEO,IAAIW,WAAW,CAACzC,QAAZ,KAAyBU,SAAzB,IAAsCV,QAAQ,KAAK,QAAvD,EAAiE;QACtE,OAAO8B,SAAS,CAACK,SAAD,CAAT,GAAuBrF,KAAK,CAACgF,SAAS,CAACK,SAAD,CAAV,CAA5B,GAAqDrF,KAAK,CAACgF,SAAD,CAAjE;MACD;;MAED,OAAOW,WAAW,CAACzC,QAAZ,KAAyBU,SAAzB,GAAqC+B,WAAW,CAACzC,QAAjD,GAA4DA,QAAnE;IACD,CAZD,CAJgD,CAgB7C;;;IAGH,IAAI4C,iBAAiB,GAAG,UAAUnF,GAAV,EAAe0E,SAAf,EAA0B;MAChD;MACA,IAAIU,SAAS,GAAGd,MAAM,CAACM,KAAP,IAAgB,EAAhC;;MAEA,IAAI,CAACjF,WAAW,CAACqF,WAAW,CAACK,QAAb,CAAhB,EAAwC;QACtC,OAAOD,SAAP;MACD;;MAED,IAAIE,mBAAmB,GAAGf,cAAc,CAAC;QACvCG,SAAS,EAAEA,SAD4B;QAEvC1E,GAAG,EAAEA,GAFkC;QAGvCsC,MAAM,EAAEA;MAH+B,CAAD,EAIrC,OAJqC,CAAxC;MAKA,IAAIiD,mBAAmB,GAAGhB,cAAc,CAAC;QACvCG,SAAS,EAAEA,SAD4B;QAEvC1E,GAAG,EAAEA,GAFkC;QAGvCsC,MAAM,EAAEA;MAH+B,CAAD,EAIrC,OAJqC,CAAxC;MAKA,IAAIkD,YAAY,GAAGR,WAAW,CAACK,QAAZ,CAAqBxF,OAAO,CAAC,EAAD,EAAKyF,mBAAL,EAA0BC,mBAA1B,CAA5B,EAA4ElB,SAA5E,CAAnB;MACA,IAAIoB,UAAU,GAAGL,SAAS,CAACV,SAAD,CAAT,IAAwB,EAAzC;;MAEA,IAAIgB,WAAW,GAAG,UAAUd,KAAV,EAAiB;QACjC,IAAIA,KAAK,CAAC5E,GAAD,CAAL,IAAc4E,KAAK,CAAC5E,GAAD,CAAL,CAAWsC,MAAX,CAAlB,EAAsC;UACpC,OAAOsC,KAAK,CAAC5E,GAAD,CAAL,CAAWsC,MAAX,CAAP;QACD;;QAED,IAAIsC,KAAK,CAAC5E,GAAD,CAAL,IAAc,CAACX,KAAK,CAACuF,KAAK,CAAC5E,GAAD,CAAN,CAAL,CAAkBgC,MAArC,EAA6C;UAC3C,OAAO4C,KAAK,CAAC5E,GAAD,CAAZ;QACD;;QAED,OAAO4E,KAAP;MACD,CAVD;;MAYA,IAAIe,WAAW,GAAG,UAAUf,KAAV,EAAiB;QACjC,OAAOtC,MAAM,KAAK,QAAX,GAAsBzC,OAAO,CAAC+E,KAAD,EAAQ9E,eAAe,CAAC,EAAD,EAAKE,GAAL,EAAUH,OAAO,CAAC+E,KAAK,CAAC5E,GAAD,CAAN,EAAawF,YAAb,CAAjB,CAAvB,CAA7B,GAAoG3F,OAAO,CAAC+E,KAAD,EAAQ9E,eAAe,CAAC,EAAD,EAAKE,GAAL,EAAUH,OAAO,CAAC+E,KAAK,CAAC5E,GAAD,CAAN,EAAaF,eAAe,CAAC,EAAD,EAAKwC,MAAL,EAAakD,YAAb,CAA5B,CAAjB,CAAvB,CAAlH;MACD,CAFD;;MAIA,IAAII,WAAW,GAAG,UAAUhB,KAAV,EAAiB;QACjC,OAAOY,YAAY,GAAGG,WAAW,CAACf,KAAD,CAAd,GAAwBc,WAAW,CAACd,KAAD,CAAtD;MACD,CAFD;;MAIA,OAAOF,SAAS,KAAKzB,SAAd,IAA2ByB,SAAS,KAAK,IAAzC,GAAgD7E,OAAO,CAACuF,SAAD,EAAYtF,eAAe,CAAC,EAAD,EAAK4E,SAAL,EAAgBkB,WAAW,CAACH,UAAD,CAA3B,CAA3B,CAAvD,GAA8HG,WAAW,CAACR,SAAD,CAAhJ;IACD,CA1CD,CAnBgD,CA6D7C;;;IAGH,IAAIS,gBAAgB,GAAG,UAAUnB,SAAV,EAAqB;MAC1C,IAAIoB,YAAY,GAAGZ,OAAO,CAACR,SAAD,CAA1B;MACA,OAAOlD,KAAK,CAACM,OAAN,CAAcgE,YAAd,IAA8BA,YAAY,CAAChD,MAAb,CAAoB,UAAUC,IAAV,EAAgB/C,GAAhB,EAAqB;QAC5E,OAAOH,OAAO,CAACkD,IAAD,EAAOoC,iBAAiB,CAACnF,GAAD,EAAM0E,SAAN,CAAxB,CAAd;MACD,CAFoC,EAElC,EAFkC,CAA9B,GAEES,iBAAiB,CAACW,YAAD,EAAepB,SAAf,CAF1B;IAGD,CALD,CAhEgD,CAqE7C;;;IAGH,IAAIqB,aAAa,GAAGd,UAAU,KAAK,KAAf,GAAuBvF,QAAQ,CAACL,KAAK,CAACgF,SAAD,CAAN,EAAmB,QAAnB,CAA/B,GAA8DY,UAAlF;IACA,OAAOzD,KAAK,CAACM,OAAN,CAAciE,aAAd,IAA+BA,aAAa,CAACjD,MAAd,CAAqB,UAAUC,IAAV,EAAgB2B,SAAhB,EAA2B;MACpF,OAAO7E,OAAO,CAACkD,IAAD,EAAO8C,gBAAgB,CAACnB,SAAD,CAAvB,CAAd;IACD,CAFqC,EAEnC,EAFmC,CAA/B,GAEEmB,gBAAgB,CAACE,aAAD,CAFzB;EAGD,CA5ED,CAvBuE,CAmGpE;;;EAGH,IAAIC,gBAAgB,GAAG,UAAUhB,WAAV,EAAuBzC,QAAvB,EAAiC;IACtD,OAAOf,KAAK,CAACM,OAAN,CAAckD,WAAd,IAA6BA,WAAW,CAAClC,MAAZ,CAAmB,UAAUC,IAAV,EAAgBV,KAAhB,EAAuB;MAC5EU,IAAI,GAAGlD,OAAO,CAAC,EAAD,EAAKkD,IAAL,EAAWgC,UAAU,CAAC1C,KAAD,EAAQE,QAAR,CAArB,CAAd;MACA,OAAOQ,IAAP;IACD,CAHmC,EAGjC,EAHiC,CAA7B,GAGEgC,UAAU,CAACC,WAAD,EAAczC,QAAd,CAHnB;EAID,CALD;;EAOA,IAAI0D,gBAAgB,GAAG,UAAUjB,WAAV,EAAuB;IAC5C,IAAIkB,WAAW,GAAG,UAAUnG,GAAV,EAAe;MAC/B,OAAOJ,WAAW,CAACI,GAAG,CAACoG,QAAL,CAAX,IAA6BpG,GAAG,CAACoG,QAAxC;IACD,CAFD;;IAIA,IAAIC,SAAS,GAAG5E,KAAK,CAACM,OAAN,CAAckD,WAAd,IAA6BA,WAAW,CAACqB,GAAZ,CAAgB,UAAUC,MAAV,EAAkB;MAC7E,OAAOJ,WAAW,CAACI,MAAD,CAAlB;IACD,CAF4C,CAA7B,GAEX,CAACJ,WAAW,CAAClB,WAAD,CAAZ,CAFL;IAGA,IAAIuB,aAAa,GAAGH,SAAS,CAAChD,MAAV,CAAiB,UAAU+C,QAAV,EAAoB;MACvD,OAAOA,QAAQ,KAAK,KAApB;IACD,CAFmB,CAApB;IAGA,OAAOI,aAAa,CAACvE,MAAd,GAAuB,YAAY;MACxC,OAAOuE,aAAa,CAACC,OAAd,CAAsB,UAAUL,QAAV,EAAoB;QAC/C,OAAOA,QAAQ,EAAf;MACD,CAFM,CAAP;IAGD,CAJM,GAIHlD,SAJJ;EAKD,CAhBD,CA7GuE,CA6HpE;EACH;EACA;;;EAGA,IAAIwD,OAAO,GAAG,UAAUC,GAAV,EAAeC,UAAf,EAA2BpE,QAA3B,EAAqCqE,SAArC,EAAgD;IAC5D;IACA,IAAI5B,WAAW,GAAGrC,MAAM,CAACiE,SAAD,CAAN,CAAkBF,GAAlB,EAAuBC,UAAvB,EAAmCpE,QAAnC,EAA6C+B,MAA7C,CAAlB;;IAEA,IAAI,CAAC1E,QAAQ,CAACoF,WAAD,CAAb,EAA4B;MAC1B,IAAIoB,SAAS,GAAGH,gBAAgB,CAACjB,WAAD,CAAhC,CAD0B,CACqB;;MAE/CV,MAAM,CAACuC,QAAP,CAAgBb,gBAAgB,CAAChB,WAAD,EAAczC,QAAd,CAAhC,EAAyD6D,SAAzD;IACD;EACF,CATD,CAlIuE,CA2IpE;;;EAGH,OAAO/G,KAAK,CAACsD,MAAD,CAAL,CAAcG,MAAd,CAAqB,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;IACjDD,IAAI,CAACC,KAAD,CAAJ,GAAcyD,OAAd;IACA,OAAO1D,IAAP;EACD,CAHM,EAGJ,EAHI,CAAP;AAID;AACD;AACA;AACA;;AAEA,OAAO,SAAS+D,gBAAT,CAA0BnE,MAA1B,EAAkCJ,QAAlC,EAA4CoE,UAA5C,EAAwD;EAC7D,OAAOhE,MAAM,GAAGtD,KAAK,CAACsD,MAAD,CAAL,CAAcG,MAAd,CAAqB,UAAUC,IAAV,EAAgB6D,SAAhB,EAA2B;IAC9D,IAAIG,YAAY,GAAG,UAAUL,GAAV,EAAe;MAChC,OAAO/D,MAAM,CAACiE,SAAD,CAAN,CAAkBF,GAAlB,EAAuBC,UAAvB,EAAmCpE,QAAnC,EAA6CqE,SAA7C,CAAP;IACD,CAFD;;IAIA7D,IAAI,CAAC6D,SAAD,CAAJ,GAAkBG,YAAlB;IACA,OAAOhE,IAAP;EACD,CAPe,EAOb,EAPa,CAAH,GAOJ,EAPT;AAQD;AACD;AACA;AACA;;AAEA,OAAO,SAASiE,aAAT,CAAuBzE,QAAvB,EAAiC4B,SAAjC,EAA4CC,SAA5C,EAAuD;EAC5D;EACA;EACA,IAAIQ,KAAK,GAAG,KAAKA,KAAL,IAAc,EAA1B;;EAEA,IAAI,CAACR,SAAL,EAAgB;IACd,OAAO7B,QAAQ,KAAK,QAAb,GAAwBqC,KAAK,CAACrC,QAAD,CAAL,IAAmBqC,KAAK,CAACrC,QAAD,CAAL,CAAgB4B,SAAhB,CAAnB,IAAiDS,KAAK,CAACrC,QAAD,CAA9E,GAA2FqC,KAAK,CAACrC,QAAD,CAAL,IAAmBqC,KAAK,CAACrC,QAAD,CAAL,CAAgB4B,SAAhB,CAArH;EACD;;EAED,OAAOS,KAAK,CAACR,SAAD,CAAL,IAAoBQ,KAAK,CAACR,SAAD,CAAL,CAAiB7B,QAAjB,CAApB,IAAkDqC,KAAK,CAACR,SAAD,CAAL,CAAiB7B,QAAjB,EAA2B4B,SAA3B,CAAzD;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAAS8C,gCAAT,CAA0CC,SAA1C,EAAqD7C,SAArD,EAAgEe,SAAhE,EAA2EH,UAA3E,EAAuF;EAC5FZ,SAAS,GAAGA,SAAS,IAAI,EAAzB;EACAe,SAAS,GAAGA,SAAS,IAAI,EAAzB;EACA,OAAOH,UAAU,CAACnC,MAAX,CAAkB,UAAUC,IAAV,EAAgB2B,SAAhB,EAA2B;IAClD,IAAIe,UAAU,GAAGL,SAAS,CAACV,SAAD,CAA1B;IACA,IAAIW,QAAQ,GAAG8B,oBAAoB,CAACD,SAAD,EAAY7C,SAAS,CAACK,SAAD,CAArB,EAAkCU,SAAS,CAACV,SAAD,CAA3C,EAAwDA,SAAxD,CAAnC;IACA3B,IAAI,CAAC2B,SAAD,CAAJ,GAAkBW,QAAQ,GAAGA,QAAH,GAAcI,UAAxC;IACA,OAAOhG,OAAO,CAACsD,IAAD,EAAO,UAAUqE,CAAV,EAAa;MAChC,OAAO,CAACxH,QAAQ,CAACwH,CAAD,CAAhB;IACD,CAFa,CAAd;EAGD,CAPM,EAOJ,EAPI,CAAP;AAQD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASD,oBAAT,CAA8BD,SAA9B,EAAyC7C,SAAzC,EAAoDe,SAApD,EAA+DV,SAA/D,EAA0E;EAC/EL,SAAS,GAAGA,SAAS,IAAI,EAAzB;EACAe,SAAS,GAAGA,SAAS,IAAI,EAAzB;;EAEA,IAAIiC,SAAS,GAAGhI,KAAK,CAACgF,SAAD,CAArB;;EAEA,OAAOgD,SAAS,CAACvE,MAAV,CAAiB,UAAUC,IAAV,EAAgBR,QAAhB,EAA0B;IAChD,IAAI+E,QAAQ,GAAGlC,SAAS,CAAC7C,QAAD,CAAT,IAAuB,EAAtC;IACA,IAAIgF,QAAQ,GAAGlD,SAAS,CAAC9B,QAAD,CAAT,IAAuB,EAAtC;;IAEA,IAAIA,QAAQ,KAAK,QAAjB,EAA2B;MACzB,IAAIiC,UAAU,GAAG;QACfjC,QAAQ,EAAEA,QADK;QAEfD,MAAM,EAAE;MAFO,CAAjB;MAIA,IAAI+C,QAAQ,GAAGmC,mBAAmB,CAACN,SAAD,EAAYK,QAAZ,EAAsBD,QAAtB,EAAgC9C,UAAhC,CAAlC;MACAzB,IAAI,CAACR,QAAD,CAAJ,GAAiB8C,QAAQ,KAAKpC,SAAb,GAAyBpD,OAAO,CAAC,EAAD,EAAKyH,QAAL,EAAejC,QAAf,CAAhC,GAA2DiC,QAA5E;IACD,CAPD,MAOO;MACL;MACA;MACA,IAAIG,OAAO,GAAGlI,KAAK,CAACF,KAAK,CAACkI,QAAD,CAAL,CAAgBpE,MAAhB,CAAuB9D,KAAK,CAACiI,QAAD,CAA5B,CAAD,CAAnB;;MAEAvE,IAAI,CAACR,QAAD,CAAJ,GAAiBkF,OAAO,CAAC3E,MAAR,CAAe,UAAU4E,CAAV,EAAapF,MAAb,EAAqB;QACnD,IAAIkC,UAAU,GAAG;UACfjC,QAAQ,EAAEA,QADK;UAEfD,MAAM,EAAEA,MAFO;UAGfoC,SAAS,EAAEA;QAHI,CAAjB;QAKA,IAAIW,QAAQ,GAAGmC,mBAAmB,CAACN,SAAD,EAAYK,QAAQ,CAACjF,MAAD,CAApB,EAA8BgF,QAAQ,CAAChF,MAAD,CAAtC,EAAgDkC,UAAhD,CAAlC;QACAkD,CAAC,CAACpF,MAAD,CAAD,GAAY+C,QAAQ,KAAKpC,SAAb,GAAyBpD,OAAO,CAAC,EAAD,EAAKyH,QAAQ,CAAChF,MAAD,CAAb,EAAuB+C,QAAvB,CAAhC,GAAmEiC,QAAQ,CAAChF,MAAD,CAAvF;QACA,OAAO7C,OAAO,CAACiI,CAAD,EAAI,UAAUN,CAAV,EAAa;UAC7B,OAAO,CAACxH,QAAQ,CAACwH,CAAD,CAAhB;QACD,CAFa,CAAd;MAGD,CAXgB,EAWd,EAXc,CAAjB;IAYD;;IAED,OAAO3H,OAAO,CAACsD,IAAD,EAAO,UAAUqE,CAAV,EAAa;MAChC,OAAO,CAACxH,QAAQ,CAACwH,CAAD,CAAhB;IACD,CAFa,CAAd;EAGD,CAjCM,EAiCJ,EAjCI,CAAP;AAkCD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASI,mBAAT,CAA6BN,SAA7B,EAAwC7C,SAAxC,EAAmDe,SAAnD,EAA8DZ,UAA9D,EAA0E;EAC/E,IAAImD,eAAe,GAAG,UAAUtC,QAAV,EAAoBZ,IAApB,EAA0B;IAC9C,IAAI,OAAOY,QAAQ,CAACZ,IAAD,CAAf,KAA0B,QAA9B,EAAwC;MACtC,OAAOY,QAAQ,CAACZ,IAAD,CAAR,KAAmB,KAAnB,IAA4BY,QAAQ,CAACZ,IAAD,CAAR,KAAmBD,UAAU,CAACC,IAAD,CAAhE;IACD,CAFD,MAEO,IAAIjD,KAAK,CAACM,OAAN,CAAcuD,QAAQ,CAACZ,IAAD,CAAtB,CAAJ,EAAmC;MACxC;MACA,IAAImD,WAAW,GAAGvC,QAAQ,CAACZ,IAAD,CAAR,CAAe4B,GAAf,CAAmB,UAAUqB,CAAV,EAAa;QAChD,OAAO,GAAGvE,MAAH,CAAUuE,CAAV,CAAP;MACD,CAFiB,CAAlB;MAGA,OAAOpI,SAAS,CAACsI,WAAD,EAAcpD,UAAU,CAACC,IAAD,CAAxB,CAAhB;IACD,CANM,MAMA;MACL,OAAO,KAAP;IACD;EACF,CAZD;;EAcAyC,SAAS,GAAG1F,KAAK,CAACM,OAAN,CAAcoF,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CAAnD;EACA,IAAIW,eAAe,GAAGX,SAAtB;;EAEA,IAAI1C,UAAU,CAACE,SAAf,EAA0B;IACxBmD,eAAe,GAAGX,SAAS,CAAC9D,MAAV,CAAiB,UAAUsE,CAAV,EAAa;MAC9C,OAAOC,eAAe,CAACD,CAAD,EAAI,WAAJ,CAAtB;IACD,CAFiB,CAAlB;EAGD,CAtB8E,CAsB7E;;;EAGF,IAAII,eAAe,GAAGD,eAAe,CAACzE,MAAhB,CAAuB,UAAUsE,CAAV,EAAa;IACxD,OAAOC,eAAe,CAACD,CAAD,EAAI,QAAJ,CAAtB;EACD,CAFqB,CAAtB;;EAIA,IAAI9H,QAAQ,CAACkI,eAAD,CAAZ,EAA+B;IAC7B,OAAO7E,SAAP;EACD;;EAED,IAAI8E,YAAY,GAAGD,eAAe,CAAC1E,MAAhB,CAAuB,UAAUsE,CAAV,EAAa;IACrD,OAAOC,eAAe,CAACD,CAAD,EAAI,UAAJ,CAAtB;EACD,CAFkB,CAAnB;;EAIA,IAAI9H,QAAQ,CAACmI,YAAD,CAAZ,EAA4B;IAC1B,OAAO9E,SAAP;EACD;;EAED,OAAO8E,YAAY,CAACjF,MAAb,CAAoB,UAAUC,IAAV,EAAgBiF,IAAhB,EAAsB;IAC/C,IAAIC,gBAAgB,GAAGD,IAAI,IAAIrI,WAAW,CAACqI,IAAI,CAAC3C,QAAN,CAAnB,GAAqC2C,IAAI,CAAC3C,QAA1C,GAAqD,YAAY;MACtF,OAAOpC,SAAP;IACD,CAFD;IAGA,IAAIiF,eAAe,GAAGD,gBAAgB,CAACpI,OAAO,CAAC,EAAD,EAAKwE,SAAL,EAAgBe,SAAhB,CAAR,CAAtC;IACA,OAAOvF,OAAO,CAAC,EAAD,EAAKkD,IAAL,EAAWmF,eAAX,CAAd;EACD,CANM,EAMJ,EANI,CAAP;AAOD;AACD;AACA;AACA;;AAEA,OAAO,SAASC,kBAAT,CAA4B9F,KAA5B,EAAmC+F,UAAnC,EAA+C;EACpD,IAAIzF,MAAM,GAAGnB,KAAK,CAACM,OAAN,CAAcsG,UAAd,KAA6BA,UAAU,CAACtF,MAAX,CAAkB,UAAUC,IAAV,EAAgBsF,aAAhB,EAA+B;IACzF,IAAIC,KAAJ;;IAEA,IAAIC,SAAS,GAAGlG,KAAK,CAACgG,aAAD,CAArB;IACA,IAAIG,aAAa,GAAGD,SAAS,IAAIA,SAAS,CAAC9D,IAAvB,IAA+B8D,SAAS,CAAC9D,IAAV,CAAe+D,aAAlE;IACA,IAAI5E,eAAe,GAAGjE,WAAW,CAAC6I,aAAD,CAAX,GAA6BA,aAAa,CAACD,SAAS,CAAClG,KAAX,CAA1C,GAA8DmG,aAApF;IACAzF,IAAI,GAAGvB,KAAK,CAACM,OAAN,CAAc8B,eAAd,IAAiC,CAAC0E,KAAK,GAAGvF,IAAT,EAAeI,MAAf,CAAsBW,KAAtB,CAA4BwE,KAA5B,EAAmC/H,kBAAkB,CAACqD,eAAD,CAArD,CAAjC,GAA2Gb,IAAlH;IACA,OAAOA,IAAP;EACD,CARyC,EAQvC,EARuC,CAA1C;EASA,OAAOJ,MAAM,IAAIA,MAAM,CAACX,MAAjB,GAA0BW,MAA1B,GAAmCM,SAA1C;AACD;AACD,OAAO,SAASwF,yBAAT,CAAmCzI,GAAnC,EAAwC;EAC7C,IAAI0I,KAAK,GAAG1I,GAAG,CAAC0I,KAAJ,CAAUvG,kBAAV,CAAZ;EACA,OAAOuG,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAd,IAAqBA,KAAK,CAAC,CAAD,CAAL,CAASC,WAAT,EAA5B;AACD;AACD,OAAO,IAAIC,eAAe,GAAG,UAAUjG,MAAV,EAAkB;EAC7C,OAAOlD,OAAO,CAACkD,MAAD,EAAS,UAAUkG,CAAV,EAAa7I,GAAb,EAAkB;IACvC,OAAOmC,kBAAkB,CAACT,IAAnB,CAAwB1B,GAAxB,CAAP;EACD,CAFa,CAAd;AAGD,CAJM;AAKP,OAAO,IAAI8I,gBAAgB,GAAG,UAAUnG,MAAV,EAAkB;EAC9C,OAAOnD,OAAO,CAACmD,MAAD,EAAS,UAAUkG,CAAV,EAAa7I,GAAb,EAAkB;IACvC,OAAOmC,kBAAkB,CAACT,IAAnB,CAAwB1B,GAAxB,CAAP;EACD,CAFa,CAAd;AAGD,CAJM;AAKP,OAAO,IAAI+I,iBAAiB,GAAG,UAAU/F,KAAV,EAAiB;EAC9C,OAAOnD,OAAO,CAACmD,KAAD,EAAQ;IACpBgG,WAAW,EAAEhG;EADO,CAAR,CAAd;AAGD,CAJM"},"metadata":{},"sourceType":"module"}