{"ast":null,"code":"import _isNil from \"lodash/isNil\";\nimport _assign from \"lodash/assign\";\nimport _defaults from \"lodash/defaults\";\nimport { Helpers, LabelHelpers, Scale, Domain, Data, Collection } from \"victory-core\";\n\nvar getErrors = function (props, datum, axis) {\n  /**\n   * check if it is asymmetric error or symmetric error, asymmetric error should be an array\n   * and the first value is the positive error, the second is the negative error\n   * @param  {Boolean} isArray(errorX)\n   * @return {String or Array}\n   */\n  var errorNames = {\n    x: \"_errorX\",\n    y: \"_errorY\"\n  };\n  var errors = datum[errorNames[axis]];\n\n  if (errors === 0) {\n    return false;\n  }\n\n  var scale = props.scale[axis];\n  return Array.isArray(errors) ? [errors[0] === 0 ? false : scale(errors[0] + datum[\"_\".concat(axis)]), errors[1] === 0 ? false : scale(datum[\"_\".concat(axis)] - errors[1])] : [scale(errors + datum[\"_\".concat(axis)]), scale(datum[\"_\".concat(axis)] - errors)];\n};\n\nexport var getData = function (props) {\n  var accessorTypes = [\"x\", \"y\", \"errorX\", \"errorY\"];\n\n  if (props.data) {\n    return Data.formatData(props.data, props, accessorTypes);\n  } else {\n    var generatedData = props.errorX || props.errorY ? Data.generateData(props) : [];\n    return Data.formatData(generatedData, props, accessorTypes);\n  }\n};\n\nvar getDomainFromData = function (props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var dataset = getData(props);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? Domain.getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  var error = axis === \"x\" ? \"_errorX\" : \"_errorY\";\n\n  var reduceErrorData = function (type) {\n    var baseCondition = type === \"min\" ? Infinity : -Infinity;\n    var errorIndex = type === \"min\" ? 1 : 0;\n    var sign = type === \"min\" ? -1 : 1;\n    return dataset.reduce(function (memo, datum) {\n      var currentError = Array.isArray(datum[error]) ? datum[error][errorIndex] : datum[error];\n      var current = datum[\"_\".concat(axis)] + sign * (currentError || 0);\n      return memo < current && type === \"min\" || memo > current && type === \"max\" ? memo : current;\n    }, baseCondition);\n  };\n\n  var min = minDomain !== undefined ? minDomain : reduceErrorData(\"min\");\n  var max = maxDomain !== undefined ? maxDomain : reduceErrorData(\"max\");\n  return Domain.getDomainFromMinMax(min, max);\n};\n\nexport var getDomain = function (props, axis) {\n  return Domain.createDomainFunction(getDomainFromData)(props, axis);\n}; // This method will edit or remove errorbar data points that fall outside of the desired domain\n\nvar formatDataFromDomain = function (datum, domain) {\n  var minDomainX = Collection.getMinValue(domain.x);\n  var maxDomainX = Collection.getMaxValue(domain.x);\n  var minDomainY = Collection.getMinValue(domain.y);\n  var maxDomainY = Collection.getMaxValue(domain.y);\n  var _x = datum._x,\n      _y = datum._y; // if either x or y center point is outside of the domain, null the entire data point\n\n  if (_x < minDomainX || _x > maxDomainX || _y < minDomainY || _y > maxDomainY) _x = _y = null;\n  return Object.assign({}, datum, {\n    _x: _x,\n    _y: _y\n  });\n};\n\nvar getCalculatedValues = function (props) {\n  var defaultStyles = Helpers.getDefaultStyles(props, \"errorbar\");\n  var style = Helpers.getStyles(props.style, defaultStyles) || {};\n  var data = getData(props);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: getDomain(props, \"x\"),\n    y: getDomain(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var origin = props.polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  return {\n    domain: domain,\n    data: data,\n    scale: scale,\n    style: style,\n    origin: origin\n  };\n};\n\nvar getLabelProps = function (dataProps, text, style) {\n  var x = dataProps.x,\n      y = dataProps.y,\n      index = dataProps.index,\n      scale = dataProps.scale,\n      errorY = dataProps.errorY,\n      errorX = dataProps.errorX,\n      horizontal = dataProps.horizontal,\n      labelComponent = dataProps.labelComponent,\n      theme = dataProps.theme,\n      disableInlineStyles = dataProps.disableInlineStyles;\n\n  var getError = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"x\";\n    var baseError = type === \"y\" ? errorY : errorX;\n    var error = baseError && Array.isArray(baseError) ? baseError[0] : baseError;\n    return error || dataProps[type];\n  };\n\n  var labelStyle = style.labels || {};\n  var padding = labelStyle.padding || 0;\n  var textAnchor = horizontal ? \"start\" : \"middle\";\n  var verticalAnchor = horizontal ? \"middle\" : \"end\";\n  var labelProps = {\n    style: labelStyle,\n    y: horizontal ? y : getError(\"y\"),\n    x: horizontal ? getError(\"x\") : x,\n    dy: horizontal ? 0 : -padding,\n    dx: horizontal ? padding : 0,\n    text: text,\n    index: index,\n    scale: scale,\n    datum: dataProps.datum,\n    data: dataProps.data,\n    textAnchor: labelStyle.textAnchor || textAnchor,\n    verticalAnchor: labelStyle.verticalAnchor || verticalAnchor,\n    angle: labelStyle.angle,\n    horizontal: horizontal,\n    disableInlineStyles: disableInlineStyles\n  };\n\n  if (!Helpers.isTooltip(labelComponent)) {\n    return labelProps;\n  }\n\n  var tooltipTheme = theme && theme.tooltip || {};\n  return _defaults({}, labelProps, Helpers.omit(tooltipTheme, [\"style\"]));\n};\n\nexport var getBaseProps = function (props, fallbackProps) {\n  var modifiedProps = Helpers.modifyProps(props, fallbackProps, \"errorbar\");\n  props = _assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  var _props = props,\n      borderWidth = _props.borderWidth,\n      data = _props.data,\n      domain = _props.domain,\n      events = _props.events,\n      groupComponent = _props.groupComponent,\n      height = _props.height,\n      horizontal = _props.horizontal,\n      labels = _props.labels,\n      name = _props.name,\n      origin = _props.origin,\n      padding = _props.padding,\n      polar = _props.polar,\n      scale = _props.scale,\n      sharedEvents = _props.sharedEvents,\n      standalone = _props.standalone,\n      style = _props.style,\n      theme = _props.theme,\n      width = _props.width,\n      disableInlineStyles = _props.disableInlineStyles;\n  var initialChildProps = {\n    parent: {\n      data: data,\n      domain: domain,\n      height: height,\n      horizontal: horizontal,\n      name: name,\n      origin: origin,\n      padding: padding,\n      polar: polar,\n      scale: scale,\n      standalone: standalone,\n      style: style.parent,\n      theme: theme,\n      width: width\n    }\n  };\n  return data.reduce(function (childProps, datum, index) {\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n\n    var _Helpers$scalePoint = Helpers.scalePoint(_assign({}, props, {\n      scale: scale\n    }), datum),\n        x = _Helpers$scalePoint.x,\n        y = _Helpers$scalePoint.y;\n\n    datum = formatDataFromDomain(datum, domain);\n    var errorX = getErrors(props, datum, \"x\");\n    var errorY = getErrors(props, datum, \"y\");\n    var dataProps = {\n      borderWidth: borderWidth,\n      data: data,\n      datum: datum,\n      errorX: horizontal ? errorY : errorX,\n      errorY: horizontal ? errorX : errorY,\n      groupComponent: groupComponent,\n      horizontal: horizontal,\n      index: index,\n      scale: scale,\n      style: disableInlineStyles ? {} : style.data,\n      x: x,\n      y: y,\n      disableInlineStyles: disableInlineStyles\n    };\n    childProps[eventKey] = {\n      data: dataProps\n    };\n    var text = LabelHelpers.getText(props, datum, index);\n\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      childProps[eventKey].labels = getLabelProps(_assign({}, props, dataProps), text, style);\n    }\n\n    return childProps;\n  }, initialChildProps);\n};","map":{"version":3,"names":["_isNil","_assign","_defaults","Helpers","LabelHelpers","Scale","Domain","Data","Collection","getErrors","props","datum","axis","errorNames","x","y","errors","scale","Array","isArray","concat","getData","accessorTypes","data","formatData","generatedData","errorX","errorY","generateData","getDomainFromData","minDomain","getMinFromProps","maxDomain","getMaxFromProps","dataset","length","undefined","getDomainFromMinMax","error","reduceErrorData","type","baseCondition","Infinity","errorIndex","sign","reduce","memo","currentError","current","min","max","getDomain","createDomainFunction","formatDataFromDomain","domain","minDomainX","getMinValue","maxDomainX","getMaxValue","minDomainY","maxDomainY","_x","_y","Object","assign","getCalculatedValues","defaultStyles","getDefaultStyles","style","getStyles","range","getRange","getBaseScale","horizontal","origin","polar","getPolarOrigin","getLabelProps","dataProps","text","index","labelComponent","theme","disableInlineStyles","getError","arguments","baseError","labelStyle","labels","padding","textAnchor","verticalAnchor","labelProps","dy","dx","angle","isTooltip","tooltipTheme","tooltip","omit","getBaseProps","fallbackProps","modifiedProps","modifyProps","_props","borderWidth","events","groupComponent","height","name","sharedEvents","standalone","width","initialChildProps","parent","childProps","eventKey","_Helpers$scalePoint","scalePoint","getText"],"sources":["/Users/leonardogomes/Documents/atlas/atlas/node_modules/victory-errorbar/es/helper-methods.js"],"sourcesContent":["import _isNil from \"lodash/isNil\";\nimport _assign from \"lodash/assign\";\nimport _defaults from \"lodash/defaults\";\nimport { Helpers, LabelHelpers, Scale, Domain, Data, Collection } from \"victory-core\";\n\nvar getErrors = function (props, datum, axis) {\n  /**\n   * check if it is asymmetric error or symmetric error, asymmetric error should be an array\n   * and the first value is the positive error, the second is the negative error\n   * @param  {Boolean} isArray(errorX)\n   * @return {String or Array}\n   */\n  var errorNames = {\n    x: \"_errorX\",\n    y: \"_errorY\"\n  };\n  var errors = datum[errorNames[axis]];\n\n  if (errors === 0) {\n    return false;\n  }\n\n  var scale = props.scale[axis];\n  return Array.isArray(errors) ? [errors[0] === 0 ? false : scale(errors[0] + datum[\"_\".concat(axis)]), errors[1] === 0 ? false : scale(datum[\"_\".concat(axis)] - errors[1])] : [scale(errors + datum[\"_\".concat(axis)]), scale(datum[\"_\".concat(axis)] - errors)];\n};\n\nexport var getData = function (props) {\n  var accessorTypes = [\"x\", \"y\", \"errorX\", \"errorY\"];\n\n  if (props.data) {\n    return Data.formatData(props.data, props, accessorTypes);\n  } else {\n    var generatedData = props.errorX || props.errorY ? Data.generateData(props) : [];\n    return Data.formatData(generatedData, props, accessorTypes);\n  }\n};\n\nvar getDomainFromData = function (props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var dataset = getData(props);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? Domain.getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  var error = axis === \"x\" ? \"_errorX\" : \"_errorY\";\n\n  var reduceErrorData = function (type) {\n    var baseCondition = type === \"min\" ? Infinity : -Infinity;\n    var errorIndex = type === \"min\" ? 1 : 0;\n    var sign = type === \"min\" ? -1 : 1;\n    return dataset.reduce(function (memo, datum) {\n      var currentError = Array.isArray(datum[error]) ? datum[error][errorIndex] : datum[error];\n      var current = datum[\"_\".concat(axis)] + sign * (currentError || 0);\n      return memo < current && type === \"min\" || memo > current && type === \"max\" ? memo : current;\n    }, baseCondition);\n  };\n\n  var min = minDomain !== undefined ? minDomain : reduceErrorData(\"min\");\n  var max = maxDomain !== undefined ? maxDomain : reduceErrorData(\"max\");\n  return Domain.getDomainFromMinMax(min, max);\n};\n\nexport var getDomain = function (props, axis) {\n  return Domain.createDomainFunction(getDomainFromData)(props, axis);\n}; // This method will edit or remove errorbar data points that fall outside of the desired domain\n\nvar formatDataFromDomain = function (datum, domain) {\n  var minDomainX = Collection.getMinValue(domain.x);\n  var maxDomainX = Collection.getMaxValue(domain.x);\n  var minDomainY = Collection.getMinValue(domain.y);\n  var maxDomainY = Collection.getMaxValue(domain.y);\n  var _x = datum._x,\n      _y = datum._y; // if either x or y center point is outside of the domain, null the entire data point\n\n  if (_x < minDomainX || _x > maxDomainX || _y < minDomainY || _y > maxDomainY) _x = _y = null;\n  return Object.assign({}, datum, {\n    _x: _x,\n    _y: _y\n  });\n};\n\nvar getCalculatedValues = function (props) {\n  var defaultStyles = Helpers.getDefaultStyles(props, \"errorbar\");\n  var style = Helpers.getStyles(props.style, defaultStyles) || {};\n  var data = getData(props);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: getDomain(props, \"x\"),\n    y: getDomain(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var origin = props.polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  return {\n    domain: domain,\n    data: data,\n    scale: scale,\n    style: style,\n    origin: origin\n  };\n};\n\nvar getLabelProps = function (dataProps, text, style) {\n  var x = dataProps.x,\n      y = dataProps.y,\n      index = dataProps.index,\n      scale = dataProps.scale,\n      errorY = dataProps.errorY,\n      errorX = dataProps.errorX,\n      horizontal = dataProps.horizontal,\n      labelComponent = dataProps.labelComponent,\n      theme = dataProps.theme,\n      disableInlineStyles = dataProps.disableInlineStyles;\n\n  var getError = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"x\";\n    var baseError = type === \"y\" ? errorY : errorX;\n    var error = baseError && Array.isArray(baseError) ? baseError[0] : baseError;\n    return error || dataProps[type];\n  };\n\n  var labelStyle = style.labels || {};\n  var padding = labelStyle.padding || 0;\n  var textAnchor = horizontal ? \"start\" : \"middle\";\n  var verticalAnchor = horizontal ? \"middle\" : \"end\";\n  var labelProps = {\n    style: labelStyle,\n    y: horizontal ? y : getError(\"y\"),\n    x: horizontal ? getError(\"x\") : x,\n    dy: horizontal ? 0 : -padding,\n    dx: horizontal ? padding : 0,\n    text: text,\n    index: index,\n    scale: scale,\n    datum: dataProps.datum,\n    data: dataProps.data,\n    textAnchor: labelStyle.textAnchor || textAnchor,\n    verticalAnchor: labelStyle.verticalAnchor || verticalAnchor,\n    angle: labelStyle.angle,\n    horizontal: horizontal,\n    disableInlineStyles: disableInlineStyles\n  };\n\n  if (!Helpers.isTooltip(labelComponent)) {\n    return labelProps;\n  }\n\n  var tooltipTheme = theme && theme.tooltip || {};\n  return _defaults({}, labelProps, Helpers.omit(tooltipTheme, [\"style\"]));\n};\n\nexport var getBaseProps = function (props, fallbackProps) {\n  var modifiedProps = Helpers.modifyProps(props, fallbackProps, \"errorbar\");\n  props = _assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  var _props = props,\n      borderWidth = _props.borderWidth,\n      data = _props.data,\n      domain = _props.domain,\n      events = _props.events,\n      groupComponent = _props.groupComponent,\n      height = _props.height,\n      horizontal = _props.horizontal,\n      labels = _props.labels,\n      name = _props.name,\n      origin = _props.origin,\n      padding = _props.padding,\n      polar = _props.polar,\n      scale = _props.scale,\n      sharedEvents = _props.sharedEvents,\n      standalone = _props.standalone,\n      style = _props.style,\n      theme = _props.theme,\n      width = _props.width,\n      disableInlineStyles = _props.disableInlineStyles;\n  var initialChildProps = {\n    parent: {\n      data: data,\n      domain: domain,\n      height: height,\n      horizontal: horizontal,\n      name: name,\n      origin: origin,\n      padding: padding,\n      polar: polar,\n      scale: scale,\n      standalone: standalone,\n      style: style.parent,\n      theme: theme,\n      width: width\n    }\n  };\n  return data.reduce(function (childProps, datum, index) {\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n\n    var _Helpers$scalePoint = Helpers.scalePoint(_assign({}, props, {\n      scale: scale\n    }), datum),\n        x = _Helpers$scalePoint.x,\n        y = _Helpers$scalePoint.y;\n\n    datum = formatDataFromDomain(datum, domain);\n    var errorX = getErrors(props, datum, \"x\");\n    var errorY = getErrors(props, datum, \"y\");\n    var dataProps = {\n      borderWidth: borderWidth,\n      data: data,\n      datum: datum,\n      errorX: horizontal ? errorY : errorX,\n      errorY: horizontal ? errorX : errorY,\n      groupComponent: groupComponent,\n      horizontal: horizontal,\n      index: index,\n      scale: scale,\n      style: disableInlineStyles ? {} : style.data,\n      x: x,\n      y: y,\n      disableInlineStyles: disableInlineStyles\n    };\n    childProps[eventKey] = {\n      data: dataProps\n    };\n    var text = LabelHelpers.getText(props, datum, index);\n\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      childProps[eventKey].labels = getLabelProps(_assign({}, props, dataProps), text, style);\n    }\n\n    return childProps;\n  }, initialChildProps);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}