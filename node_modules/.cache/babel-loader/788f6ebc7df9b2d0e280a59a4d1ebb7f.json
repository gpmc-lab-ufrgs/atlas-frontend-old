{"ast":null,"code":"/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport * as Collection from \"./collection\"; // Private Functions\n\nfunction transformTarget(target, matrix, dimension) {\n  var a = matrix.a,\n      d = matrix.d,\n      e = matrix.e,\n      f = matrix.f;\n  return dimension === \"y\" ? d * target + f : a * target + e;\n}\n\nfunction getTransformationMatrix(svg) {\n  return svg.getScreenCTM().inverse();\n} // Exported Functions\n\n\nexport function getParentSVG(evt) {\n  if (evt.nativeEvent && evt.nativeEvent.identifier !== undefined) {\n    return undefined;\n  }\n\n  var getParent = function (target) {\n    if (target.nodeName === \"svg\") {\n      return target;\n    } else {\n      return target.parentNode ? getParent(target.parentNode) : target;\n    }\n  };\n\n  return getParent(evt.target);\n}\nexport function getSVGEventCoordinates(evt, svg) {\n  if (evt.nativeEvent && evt.nativeEvent.identifier !== undefined) {\n    // react-native override. relies on the RN.View being the _exact_ same size as its child SVG.\n    // this should be fine: the svg is the only child of View and the View shirks to its children\n    return {\n      x: evt.nativeEvent.locationX,\n      y: evt.nativeEvent.locationY\n    };\n  }\n\n  evt = evt.changedTouches && evt.changedTouches.length ? evt.changedTouches[0] : evt;\n  svg = svg || getParentSVG(evt);\n  var matrix = getTransformationMatrix(svg);\n  return {\n    x: transformTarget(evt.clientX, matrix, \"x\"),\n    y: transformTarget(evt.clientY, matrix, \"y\")\n  };\n}\nexport function getDomainCoordinates(props, domain) {\n  var scale = props.scale,\n      horizontal = props.horizontal;\n  domain = domain || {\n    x: scale.x.domain(),\n    y: scale.y.domain()\n  };\n  return {\n    x: horizontal ? [scale.y(domain.y[0]), scale.y(domain.y[1])] : [scale.x(domain.x[0]), scale.x(domain.x[1])],\n    y: horizontal ? [scale.x(domain.x[0]), scale.x(domain.x[1])] : [scale.y(domain.y[0]), scale.y(domain.y[1])]\n  };\n} // eslint-disable-next-line max-params\n\nexport function getDataCoordinates(props, scale, x, y) {\n  var polar = props.polar,\n      horizontal = props.horizontal;\n\n  if (!polar) {\n    return {\n      x: horizontal ? scale.x.invert(y) : scale.x.invert(x),\n      y: horizontal ? scale.y.invert(x) : scale.y.invert(y)\n    };\n  } else {\n    var origin = props.origin || {\n      x: 0,\n      y: 0\n    };\n    var baseX = x - origin.x;\n    var baseY = y - origin.y;\n    var radius = Math.abs(baseX * Math.sqrt(1 + Math.pow(-baseY / baseX, 2)));\n    var angle = (-Math.atan2(baseY, baseX) + Math.PI * 2) % (Math.PI * 2);\n    return {\n      x: scale.x.invert(angle),\n      y: scale.y.invert(radius)\n    };\n  }\n}\nexport function getBounds(props) {\n  var x1 = props.x1,\n      x2 = props.x2,\n      y1 = props.y1,\n      y2 = props.y2,\n      scale = props.scale;\n  var point1 = getDataCoordinates(props, scale, x1, y1);\n  var point2 = getDataCoordinates(props, scale, x2, y2);\n\n  var makeBound = function (a, b) {\n    return [Collection.getMinValue([a, b]), Collection.getMaxValue([a, b])];\n  };\n\n  return {\n    x: makeBound(point1.x, point2.x),\n    y: makeBound(point1.y, point2.y)\n  };\n}","map":{"version":3,"names":["Collection","transformTarget","target","matrix","dimension","a","d","e","f","getTransformationMatrix","svg","getScreenCTM","inverse","getParentSVG","evt","nativeEvent","identifier","undefined","getParent","nodeName","parentNode","getSVGEventCoordinates","x","locationX","y","locationY","changedTouches","length","clientX","clientY","getDomainCoordinates","props","domain","scale","horizontal","getDataCoordinates","polar","invert","origin","baseX","baseY","radius","Math","abs","sqrt","pow","angle","atan2","PI","getBounds","x1","x2","y1","y2","point1","point2","makeBound","b","getMinValue","getMaxValue"],"sources":["/Users/leonardogomes/Documents/atlas/atlas/node_modules/victory-core/es/victory-util/selection.js"],"sourcesContent":["/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport * as Collection from \"./collection\"; // Private Functions\n\nfunction transformTarget(target, matrix, dimension) {\n  var a = matrix.a,\n      d = matrix.d,\n      e = matrix.e,\n      f = matrix.f;\n  return dimension === \"y\" ? d * target + f : a * target + e;\n}\n\nfunction getTransformationMatrix(svg) {\n  return svg.getScreenCTM().inverse();\n} // Exported Functions\n\n\nexport function getParentSVG(evt) {\n  if (evt.nativeEvent && evt.nativeEvent.identifier !== undefined) {\n    return undefined;\n  }\n\n  var getParent = function (target) {\n    if (target.nodeName === \"svg\") {\n      return target;\n    } else {\n      return target.parentNode ? getParent(target.parentNode) : target;\n    }\n  };\n\n  return getParent(evt.target);\n}\nexport function getSVGEventCoordinates(evt, svg) {\n  if (evt.nativeEvent && evt.nativeEvent.identifier !== undefined) {\n    // react-native override. relies on the RN.View being the _exact_ same size as its child SVG.\n    // this should be fine: the svg is the only child of View and the View shirks to its children\n    return {\n      x: evt.nativeEvent.locationX,\n      y: evt.nativeEvent.locationY\n    };\n  }\n\n  evt = evt.changedTouches && evt.changedTouches.length ? evt.changedTouches[0] : evt;\n  svg = svg || getParentSVG(evt);\n  var matrix = getTransformationMatrix(svg);\n  return {\n    x: transformTarget(evt.clientX, matrix, \"x\"),\n    y: transformTarget(evt.clientY, matrix, \"y\")\n  };\n}\nexport function getDomainCoordinates(props, domain) {\n  var scale = props.scale,\n      horizontal = props.horizontal;\n  domain = domain || {\n    x: scale.x.domain(),\n    y: scale.y.domain()\n  };\n  return {\n    x: horizontal ? [scale.y(domain.y[0]), scale.y(domain.y[1])] : [scale.x(domain.x[0]), scale.x(domain.x[1])],\n    y: horizontal ? [scale.x(domain.x[0]), scale.x(domain.x[1])] : [scale.y(domain.y[0]), scale.y(domain.y[1])]\n  };\n} // eslint-disable-next-line max-params\n\nexport function getDataCoordinates(props, scale, x, y) {\n  var polar = props.polar,\n      horizontal = props.horizontal;\n\n  if (!polar) {\n    return {\n      x: horizontal ? scale.x.invert(y) : scale.x.invert(x),\n      y: horizontal ? scale.y.invert(x) : scale.y.invert(y)\n    };\n  } else {\n    var origin = props.origin || {\n      x: 0,\n      y: 0\n    };\n    var baseX = x - origin.x;\n    var baseY = y - origin.y;\n    var radius = Math.abs(baseX * Math.sqrt(1 + Math.pow(-baseY / baseX, 2)));\n    var angle = (-Math.atan2(baseY, baseX) + Math.PI * 2) % (Math.PI * 2);\n    return {\n      x: scale.x.invert(angle),\n      y: scale.y.invert(radius)\n    };\n  }\n}\nexport function getBounds(props) {\n  var x1 = props.x1,\n      x2 = props.x2,\n      y1 = props.y1,\n      y2 = props.y2,\n      scale = props.scale;\n  var point1 = getDataCoordinates(props, scale, x1, y1);\n  var point2 = getDataCoordinates(props, scale, x2, y2);\n\n  var makeBound = function (a, b) {\n    return [Collection.getMinValue([a, b]), Collection.getMaxValue([a, b])];\n  };\n\n  return {\n    x: makeBound(point1.x, point2.x),\n    y: makeBound(point1.y, point2.y)\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}