{"ast":null,"code":"import _isNil from \"lodash/isNil\";\nimport _isNaN from \"lodash/isNaN\";\nimport _keys from \"lodash/keys\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _assign from \"lodash/assign\";\nimport _defaults from \"lodash/defaults\";\nimport _orderBy from \"lodash/orderBy\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { Helpers, Scale, Domain, Data, Collection } from \"victory-core\";\nimport { min as d3Min, max as d3Max, quantile as d3Quantile } from \"victory-vendor/d3-array\";\nvar TYPES = [\"max\", \"min\", \"median\", \"q1\", \"q3\"];\n\nvar checkProcessedData = function (data) {\n  /* check if the data is pre-processed. start by checking that it has\n  all required quartile attributes. */\n  var hasQuartileAttributes = data.every(function (datum) {\n    return TYPES.every(function (val) {\n      return typeof datum[\"_\".concat(val)] !== \"undefined\";\n    });\n  });\n\n  if (hasQuartileAttributes) {\n    // check that the independent variable is distinct\n    var values = data.map(function (d) {\n      return d._x;\n    });\n\n    if (!_uniq(values).length === values.length) {\n      throw new Error(\"\\n        data prop may only take an array of objects with a unique\\n        independent variable. Make sure your x values are distinct.\\n      \");\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\nvar nanToNull = function (val) {\n  return _isNaN(val) ? null : val;\n};\n\nvar getSummaryStatistics = function (data) {\n  var dependentVars = data.map(function (datum) {\n    return datum._y;\n  });\n  var quartiles = {\n    _q1: nanToNull(d3Quantile(dependentVars, 0.25)),\n    // eslint-disable-line no-magic-numbers\n    _q3: nanToNull(d3Quantile(dependentVars, 0.75)),\n    // eslint-disable-line no-magic-numbers\n    _min: nanToNull(d3Min(dependentVars)),\n    _median: nanToNull(d3Quantile(dependentVars, 0.5)),\n    _max: nanToNull(d3Max(dependentVars))\n  };\n  return _assign({}, data[0], quartiles, {\n    _y: data[0]._y\n  });\n};\n\nvar processData = function (data) {\n  /* check if the data is coming in a pre-processed form,\n  i.e. { x || y, min, max, q1, q3, median }. if not, process it. */\n  var isProcessed = checkProcessedData(data);\n\n  if (!isProcessed) {\n    // check if the data is coming with x or y values as an array\n    var arrayX = data.every(function (datum) {\n      return Array.isArray(datum._x);\n    });\n    var arrayY = data.every(function (datum) {\n      return Array.isArray(datum._y);\n    });\n    var sortKey = \"_y\";\n    var groupKey = \"_x\";\n\n    if (arrayX) {\n      throw new Error(\"\\n        data should not be given as in array for x\\n      \");\n    } else if (arrayY) {\n      /* generate summary statistics for each datum. to do this, flatten\n      the depedentVarArray and process each datum separately */\n      return data.map(function (datum) {\n        var dataArray = datum[sortKey].map(function (d) {\n          return _assign({}, datum, _defineProperty({}, sortKey, d));\n        });\n\n        var sortedData = _orderBy(dataArray, sortKey);\n\n        return getSummaryStatistics(sortedData);\n      });\n    } else {\n      /* Group data by independent variable and generate summary statistics for each group */\n      var groupedData = _groupBy(data, groupKey);\n\n      return _keys(groupedData).map(function (key) {\n        var datum = groupedData[key];\n\n        var sortedData = _orderBy(datum, sortKey);\n\n        return getSummaryStatistics(sortedData);\n      });\n    }\n  } else {\n    return data;\n  }\n};\n\nexport var getData = function (props) {\n  var accessorTypes = TYPES.concat(\"x\", \"y\");\n  var formattedData = Data.formatData(props.data, props, accessorTypes);\n  return formattedData.length ? processData(formattedData) : [];\n};\n\nvar reduceDataset = function (dataset, props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var minData = minDomain !== undefined ? minDomain : dataset.reduce(function (memo, datum) {\n    return memo < datum[\"_\".concat(axis)] ? memo : datum[\"_\".concat(axis)];\n  }, Infinity);\n  var maxData = maxDomain !== undefined ? maxDomain : dataset.reduce(function (memo, datum) {\n    return memo > datum[\"_\".concat(axis)] ? memo : datum[\"_\".concat(axis)];\n  }, -Infinity);\n  return Domain.getDomainFromMinMax(minData, maxData);\n};\n\nvar getDomainFromMinMaxValues = function (dataset, props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var minData = minDomain !== undefined ? minDomain : dataset.reduce(function (memo, datum) {\n    return memo < datum._min ? memo : datum._min;\n  }, Infinity);\n  var maxData = maxDomain !== undefined ? maxDomain : dataset.reduce(function (memo, datum) {\n    return memo > datum._max ? memo : datum._max;\n  }, -Infinity);\n  return Domain.getDomainFromMinMax(minData, maxData);\n};\n\nvar getDomainFromData = function (props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var dataset = getData(props);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? Domain.getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  return axis === \"y\" ? getDomainFromMinMaxValues(dataset, props, axis) : reduceDataset(dataset, props, axis);\n};\n\nexport var getDomain = function (props, axis) {\n  return Domain.createDomainFunction(getDomainFromData)(props, axis);\n};\n\nvar getLabelStyle = function (props, styleObject, namespace) {\n  var component = props[\"\".concat(namespace, \"LabelComponent\")] || props.labelComponent;\n  var baseStyle = styleObject[\"\".concat(namespace, \"Labels\")] || styleObject.labels;\n\n  if (!Helpers.isTooltip(component)) {\n    return baseStyle;\n  }\n\n  var tooltipTheme = props.theme && props.theme.tooltip || {};\n  return _defaults({}, tooltipTheme.style, baseStyle);\n};\n\nvar getStyles = function (props, styleObject) {\n  if (props.disableInlineStyles) {\n    return {};\n  }\n\n  var style = props.style || {};\n  styleObject = styleObject || {};\n  var parentStyles = {\n    height: \"100%\",\n    width: \"100%\"\n  };\n\n  var labelStyles = _defaults({}, style.labels, getLabelStyle(props, styleObject));\n\n  var boxStyles = _defaults({}, style.boxes, styleObject.boxes);\n\n  var whiskerStyles = _defaults({}, style.whiskers, styleObject.whiskers);\n\n  return {\n    boxes: boxStyles,\n    labels: labelStyles,\n    parent: _defaults({}, style.parent, styleObject.parent, parentStyles),\n    max: _defaults({}, style.max, styleObject.max, whiskerStyles),\n    maxLabels: _defaults({}, style.maxLabels, getLabelStyle(props, styleObject, \"max\"), labelStyles),\n    median: _defaults({}, style.median, styleObject.median, whiskerStyles),\n    medianLabels: _defaults({}, style.medianLabels, getLabelStyle(props, styleObject, \"median\"), labelStyles),\n    min: _defaults({}, style.min, styleObject.min, whiskerStyles),\n    minLabels: _defaults({}, style.minLabels, getLabelStyle(props, styleObject, \"min\"), labelStyles),\n    q1: _defaults({}, style.q1, styleObject.q1, boxStyles),\n    q1Labels: _defaults({}, style.q1Labels, getLabelStyle(props, styleObject, \"q1\"), labelStyles),\n    q3: _defaults({}, style.q3, styleObject.q3, boxStyles),\n    q3Labels: _defaults({}, style.q3Labels, getLabelStyle(props, styleObject, \"q3\"), labelStyles),\n    whiskers: whiskerStyles\n  };\n};\n\nvar getCalculatedValues = function (props) {\n  var theme = props.theme,\n      horizontal = props.horizontal;\n  var data = getData(props);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: getDomain(props, \"x\"),\n    y: getDomain(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var defaultStyles = theme && theme.boxplot && theme.boxplot.style ? theme.boxplot.style : {};\n  var style = getStyles(props, defaultStyles);\n  var defaultOrientation = props.horizontal ? \"top\" : \"right\";\n  var labelOrientation = props.labelOrientation || defaultOrientation;\n  var boxWidth = props.boxWidth || 1;\n  return {\n    data: data,\n    horizontal: horizontal,\n    domain: domain,\n    scale: scale,\n    style: style,\n    labelOrientation: labelOrientation,\n    boxWidth: boxWidth\n  };\n}; // eslint-disable-next-line complexity\n\n\nvar getWhiskerProps = function (props, type) {\n  var horizontal = props.horizontal,\n      style = props.style,\n      boxWidth = props.boxWidth,\n      whiskerWidth = props.whiskerWidth,\n      datum = props.datum,\n      scale = props.scale,\n      index = props.index,\n      disableInlineStyles = props.disableInlineStyles;\n  var _props$positions = props.positions,\n      min = _props$positions.min,\n      max = _props$positions.max,\n      q1 = _props$positions.q1,\n      q3 = _props$positions.q3,\n      x = _props$positions.x,\n      y = _props$positions.y;\n  var boxValue = type === \"min\" ? q1 : q3;\n  var whiskerValue = type === \"min\" ? min : max;\n  var width = typeof whiskerWidth === \"number\" ? whiskerWidth : boxWidth;\n  return {\n    datum: datum,\n    index: index,\n    scale: scale,\n    majorWhisker: {\n      x1: horizontal ? boxValue : x,\n      y1: horizontal ? y : boxValue,\n      x2: horizontal ? whiskerValue : x,\n      y2: horizontal ? y : whiskerValue\n    },\n    minorWhisker: {\n      x1: horizontal ? whiskerValue : x - width / 2,\n      y1: horizontal ? y - width / 2 : whiskerValue,\n      x2: horizontal ? whiskerValue : x + width / 2,\n      y2: horizontal ? y + width / 2 : whiskerValue\n    },\n    style: disableInlineStyles ? {} : style[type] || style.whisker,\n    disableInlineStyles: disableInlineStyles\n  };\n};\n\nvar getBoxProps = function (props, type) {\n  var horizontal = props.horizontal,\n      boxWidth = props.boxWidth,\n      style = props.style,\n      scale = props.scale,\n      datum = props.datum,\n      index = props.index,\n      disableInlineStyles = props.disableInlineStyles;\n  var _props$positions2 = props.positions,\n      median = _props$positions2.median,\n      q1 = _props$positions2.q1,\n      q3 = _props$positions2.q3,\n      x = _props$positions2.x,\n      y = _props$positions2.y;\n  var defaultX = type === \"q1\" ? q1 : median;\n  var defaultY = type === \"q1\" ? median : q3;\n  var defaultWidth = type === \"q1\" ? median - q1 : q3 - median;\n  var defaultHeight = type === \"q1\" ? q1 - median : median - q3;\n  return {\n    datum: datum,\n    scale: scale,\n    index: index,\n    x: horizontal ? defaultX : x - boxWidth / 2,\n    y: horizontal ? y - boxWidth / 2 : defaultY,\n    width: horizontal ? defaultWidth : boxWidth,\n    height: horizontal ? boxWidth : defaultHeight,\n    style: disableInlineStyles ? {} : style[type] || style.boxes,\n    disableInlineStyles: disableInlineStyles\n  };\n};\n\nvar getMedianProps = function (props) {\n  var boxWidth = props.boxWidth,\n      horizontal = props.horizontal,\n      style = props.style,\n      datum = props.datum,\n      scale = props.scale,\n      index = props.index,\n      disableInlineStyles = props.disableInlineStyles;\n  var _props$positions3 = props.positions,\n      median = _props$positions3.median,\n      x = _props$positions3.x,\n      y = _props$positions3.y;\n  return {\n    datum: datum,\n    scale: scale,\n    index: index,\n    x1: horizontal ? median : x - boxWidth / 2,\n    y1: horizontal ? y - boxWidth / 2 : median,\n    x2: horizontal ? median : x + boxWidth / 2,\n    y2: horizontal ? y + boxWidth / 2 : median,\n    style: disableInlineStyles ? {} : style.median,\n    disableInlineStyles: disableInlineStyles\n  };\n};\n\nvar getText = function (props, type) {\n  var datum = props.datum,\n      index = props.index,\n      labels = props.labels;\n  var propName = \"\".concat(type, \"Labels\");\n  var labelProp = props[propName];\n\n  if (!labelProp && !labels) {\n    return null;\n  } else if (labelProp === true || labels === true) {\n    var dataName = \"_\".concat(type);\n    return \"\".concat(datum[dataName]);\n  }\n\n  return Array.isArray(labelProp) ? labelProp[index] : labelProp;\n};\n\nvar getOrientation = function (labelOrientation, type) {\n  return typeof labelOrientation === \"object\" && labelOrientation[type] || labelOrientation;\n};\n\nvar getLabelProps = function (props, text, type) {\n  var datum = props.datum,\n      positions = props.positions,\n      index = props.index,\n      boxWidth = props.boxWidth,\n      horizontal = props.horizontal,\n      labelOrientation = props.labelOrientation,\n      style = props.style,\n      theme = props.theme,\n      disableInlineStyles = props.disableInlineStyles;\n  var orientation = getOrientation(labelOrientation, type);\n  var namespace = \"\".concat(type, \"Labels\");\n  var labelStyle = style[namespace] || style.labels;\n  var defaultVerticalAnchors = {\n    top: \"end\",\n    bottom: \"start\",\n    left: \"middle\",\n    right: \"middle\"\n  };\n  var defaultTextAnchors = {\n    left: \"end\",\n    right: \"start\",\n    top: \"middle\",\n    bottom: \"middle\"\n  };\n  var whiskerWidth = typeof props.whiskerWidth === \"number\" ? props.whiskerWidth : boxWidth;\n  var width = type === \"min\" || type === \"max\" ? whiskerWidth : boxWidth;\n\n  var getOffset = function (coord) {\n    var sign = {\n      x: orientation === \"left\" ? -1 : 1,\n      y: orientation === \"top\" ? -1 : 1\n    };\n    return sign[coord] * width / 2 + sign[coord] * (labelStyle.padding || 0);\n  };\n\n  var labelProps = {\n    text: text,\n    datum: datum,\n    index: index,\n    orientation: orientation,\n    style: disableInlineStyles ? {} : labelStyle,\n    y: horizontal ? positions.y : positions[type],\n    x: horizontal ? positions[type] : positions.x,\n    dy: horizontal ? getOffset(\"y\") : 0,\n    dx: horizontal ? 0 : getOffset(\"x\"),\n    textAnchor: labelStyle.textAnchor || defaultTextAnchors[orientation],\n    verticalAnchor: labelStyle.verticalAnchor || defaultVerticalAnchors[orientation],\n    angle: labelStyle.angle,\n    horizontal: horizontal,\n    disableInlineStyles: disableInlineStyles\n  };\n  var component = props[\"\".concat(type, \"LabelComponent\")];\n\n  if (!Helpers.isTooltip(component)) {\n    return labelProps;\n  }\n\n  var tooltipTheme = theme && theme.tooltip || {};\n  return _defaults({}, labelProps, Helpers.omit(tooltipTheme, [\"style\"]));\n};\n\nvar getDataProps = function (props, type) {\n  if (type === \"median\") {\n    return getMedianProps(props);\n  } else if (type === \"min\" || type === \"max\") {\n    return getWhiskerProps(props, type);\n  }\n\n  return getBoxProps(props, type);\n}; // if all data points on an axis are out of bound of the domain, filter out this datum\n\n\nvar isDatumOutOfBounds = function (datum, domain) {\n  var exists = function (val) {\n    return val !== undefined;\n  };\n\n  var _x = datum._x,\n      _min = datum._min,\n      _max = datum._max;\n  var minDomainX = Collection.getMinValue(domain.x);\n  var maxDomainX = Collection.getMaxValue(domain.x);\n  var minDomainY = Collection.getMinValue(domain.y);\n  var maxDomainY = Collection.getMaxValue(domain.y);\n\n  var underMin = function (min) {\n    return function (val) {\n      return exists(val) && val < min;\n    };\n  };\n\n  var overMax = function (max) {\n    return function (val) {\n      return exists(val) && val > max;\n    };\n  };\n\n  var isUnderMinX = underMin(minDomainX);\n  var isUnderMinY = underMin(minDomainY);\n  var isOverMaxX = overMax(maxDomainX);\n  var isOverMaxY = overMax(maxDomainY);\n  var yOutOfBounds;\n  var xOutOfBounds; // if x is out of the bounds of the domain\n\n  if (isUnderMinX(_x) || isOverMaxX(_x)) xOutOfBounds = true; // if min/max are out of the bounds of the domain\n\n  if (isUnderMinY(_min) && isUnderMinY(_max) || isOverMaxY(_min) && isOverMaxY(_max)) yOutOfBounds = true;\n  return yOutOfBounds || xOutOfBounds;\n};\n\nexport var getBaseProps = function (props, fallbackProps) {\n  var modifiedProps = Helpers.modifyProps(props, fallbackProps, \"boxplot\");\n  props = _assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  var _props = props,\n      groupComponent = _props.groupComponent,\n      width = _props.width,\n      height = _props.height,\n      padding = _props.padding,\n      standalone = _props.standalone,\n      theme = _props.theme,\n      events = _props.events,\n      sharedEvents = _props.sharedEvents,\n      scale = _props.scale,\n      horizontal = _props.horizontal,\n      data = _props.data,\n      style = _props.style,\n      domain = _props.domain,\n      name = _props.name;\n  var initialChildProps = {\n    parent: {\n      domain: domain,\n      scale: scale,\n      width: width,\n      height: height,\n      data: data,\n      standalone: standalone,\n      name: name,\n      theme: theme,\n      style: style.parent || {},\n      padding: padding,\n      groupComponent: groupComponent,\n      horizontal: horizontal\n    }\n  };\n  var boxScale = scale.y;\n  return data.reduce(function (acc, datum, index) {\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n    if (isDatumOutOfBounds(datum, domain)) return acc;\n    var positions = {\n      x: horizontal ? scale.y(datum._y) : scale.x(datum._x),\n      y: horizontal ? scale.x(datum._x) : scale.y(datum._y),\n      min: boxScale(datum._min),\n      max: boxScale(datum._max),\n      median: boxScale(datum._median),\n      q1: boxScale(datum._q1),\n      q3: boxScale(datum._q3)\n    };\n\n    var dataProps = _assign({\n      index: index,\n      datum: datum,\n      positions: positions\n    }, props);\n\n    var dataObj = TYPES.reduce(function (memo, type) {\n      memo[type] = getDataProps(dataProps, type);\n      return memo;\n    }, {});\n    acc[eventKey] = dataObj;\n    TYPES.forEach(function (type) {\n      var labelText = getText(dataProps, type);\n      var labelProp = props.labels || props[\"\".concat(type, \"Labels\")];\n\n      if (labelText !== null && labelText !== undefined || labelProp && (events || sharedEvents)) {\n        var target = \"\".concat(type, \"Labels\");\n        acc[eventKey][target] = getLabelProps(_assign({}, props, dataProps), labelText, type);\n      }\n    });\n    return acc;\n  }, initialChildProps);\n};","map":{"version":3,"names":["_isNil","_isNaN","_keys","_groupBy","_uniq","_assign","_defaults","_orderBy","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Helpers","Scale","Domain","Data","Collection","min","d3Min","max","d3Max","quantile","d3Quantile","TYPES","checkProcessedData","data","hasQuartileAttributes","every","datum","val","concat","values","map","d","_x","length","Error","nanToNull","getSummaryStatistics","dependentVars","_y","quartiles","_q1","_q3","_min","_median","_max","processData","isProcessed","arrayX","Array","isArray","arrayY","sortKey","groupKey","dataArray","sortedData","groupedData","getData","props","accessorTypes","formattedData","formatData","reduceDataset","dataset","axis","minDomain","getMinFromProps","maxDomain","getMaxFromProps","minData","undefined","reduce","memo","Infinity","maxData","getDomainFromMinMax","getDomainFromMinMaxValues","getDomainFromData","getDomain","createDomainFunction","getLabelStyle","styleObject","namespace","component","labelComponent","baseStyle","labels","isTooltip","tooltipTheme","theme","tooltip","style","getStyles","disableInlineStyles","parentStyles","height","width","labelStyles","boxStyles","boxes","whiskerStyles","whiskers","parent","maxLabels","median","medianLabels","minLabels","q1","q1Labels","q3","q3Labels","getCalculatedValues","horizontal","range","x","getRange","y","domain","scale","getBaseScale","defaultStyles","boxplot","defaultOrientation","labelOrientation","boxWidth","getWhiskerProps","type","whiskerWidth","index","_props$positions","positions","boxValue","whiskerValue","majorWhisker","x1","y1","x2","y2","minorWhisker","whisker","getBoxProps","_props$positions2","defaultX","defaultY","defaultWidth","defaultHeight","getMedianProps","_props$positions3","getText","propName","labelProp","dataName","getOrientation","getLabelProps","text","orientation","labelStyle","defaultVerticalAnchors","top","bottom","left","right","defaultTextAnchors","getOffset","coord","sign","padding","labelProps","dy","dx","textAnchor","verticalAnchor","angle","omit","getDataProps","isDatumOutOfBounds","exists","minDomainX","getMinValue","maxDomainX","getMaxValue","minDomainY","maxDomainY","underMin","overMax","isUnderMinX","isUnderMinY","isOverMaxX","isOverMaxY","yOutOfBounds","xOutOfBounds","getBaseProps","fallbackProps","modifiedProps","modifyProps","_props","groupComponent","standalone","events","sharedEvents","name","initialChildProps","boxScale","acc","eventKey","dataProps","dataObj","forEach","labelText","target"],"sources":["/Users/leonardogomes/Documents/atlas/atlas/node_modules/victory-box-plot/es/helper-methods.js"],"sourcesContent":["import _isNil from \"lodash/isNil\";\nimport _isNaN from \"lodash/isNaN\";\nimport _keys from \"lodash/keys\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _assign from \"lodash/assign\";\nimport _defaults from \"lodash/defaults\";\nimport _orderBy from \"lodash/orderBy\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Helpers, Scale, Domain, Data, Collection } from \"victory-core\";\nimport { min as d3Min, max as d3Max, quantile as d3Quantile } from \"victory-vendor/d3-array\";\nvar TYPES = [\"max\", \"min\", \"median\", \"q1\", \"q3\"];\n\nvar checkProcessedData = function (data) {\n  /* check if the data is pre-processed. start by checking that it has\n  all required quartile attributes. */\n  var hasQuartileAttributes = data.every(function (datum) {\n    return TYPES.every(function (val) {\n      return typeof datum[\"_\".concat(val)] !== \"undefined\";\n    });\n  });\n\n  if (hasQuartileAttributes) {\n    // check that the independent variable is distinct\n    var values = data.map(function (d) {\n      return d._x;\n    });\n\n    if (!_uniq(values).length === values.length) {\n      throw new Error(\"\\n        data prop may only take an array of objects with a unique\\n        independent variable. Make sure your x values are distinct.\\n      \");\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\nvar nanToNull = function (val) {\n  return _isNaN(val) ? null : val;\n};\n\nvar getSummaryStatistics = function (data) {\n  var dependentVars = data.map(function (datum) {\n    return datum._y;\n  });\n  var quartiles = {\n    _q1: nanToNull(d3Quantile(dependentVars, 0.25)),\n    // eslint-disable-line no-magic-numbers\n    _q3: nanToNull(d3Quantile(dependentVars, 0.75)),\n    // eslint-disable-line no-magic-numbers\n    _min: nanToNull(d3Min(dependentVars)),\n    _median: nanToNull(d3Quantile(dependentVars, 0.5)),\n    _max: nanToNull(d3Max(dependentVars))\n  };\n  return _assign({}, data[0], quartiles, {\n    _y: data[0]._y\n  });\n};\n\nvar processData = function (data) {\n  /* check if the data is coming in a pre-processed form,\n  i.e. { x || y, min, max, q1, q3, median }. if not, process it. */\n  var isProcessed = checkProcessedData(data);\n\n  if (!isProcessed) {\n    // check if the data is coming with x or y values as an array\n    var arrayX = data.every(function (datum) {\n      return Array.isArray(datum._x);\n    });\n    var arrayY = data.every(function (datum) {\n      return Array.isArray(datum._y);\n    });\n    var sortKey = \"_y\";\n    var groupKey = \"_x\";\n\n    if (arrayX) {\n      throw new Error(\"\\n        data should not be given as in array for x\\n      \");\n    } else if (arrayY) {\n      /* generate summary statistics for each datum. to do this, flatten\n      the depedentVarArray and process each datum separately */\n      return data.map(function (datum) {\n        var dataArray = datum[sortKey].map(function (d) {\n          return _assign({}, datum, _defineProperty({}, sortKey, d));\n        });\n\n        var sortedData = _orderBy(dataArray, sortKey);\n\n        return getSummaryStatistics(sortedData);\n      });\n    } else {\n      /* Group data by independent variable and generate summary statistics for each group */\n      var groupedData = _groupBy(data, groupKey);\n\n      return _keys(groupedData).map(function (key) {\n        var datum = groupedData[key];\n\n        var sortedData = _orderBy(datum, sortKey);\n\n        return getSummaryStatistics(sortedData);\n      });\n    }\n  } else {\n    return data;\n  }\n};\n\nexport var getData = function (props) {\n  var accessorTypes = TYPES.concat(\"x\", \"y\");\n  var formattedData = Data.formatData(props.data, props, accessorTypes);\n  return formattedData.length ? processData(formattedData) : [];\n};\n\nvar reduceDataset = function (dataset, props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var minData = minDomain !== undefined ? minDomain : dataset.reduce(function (memo, datum) {\n    return memo < datum[\"_\".concat(axis)] ? memo : datum[\"_\".concat(axis)];\n  }, Infinity);\n  var maxData = maxDomain !== undefined ? maxDomain : dataset.reduce(function (memo, datum) {\n    return memo > datum[\"_\".concat(axis)] ? memo : datum[\"_\".concat(axis)];\n  }, -Infinity);\n  return Domain.getDomainFromMinMax(minData, maxData);\n};\n\nvar getDomainFromMinMaxValues = function (dataset, props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var minData = minDomain !== undefined ? minDomain : dataset.reduce(function (memo, datum) {\n    return memo < datum._min ? memo : datum._min;\n  }, Infinity);\n  var maxData = maxDomain !== undefined ? maxDomain : dataset.reduce(function (memo, datum) {\n    return memo > datum._max ? memo : datum._max;\n  }, -Infinity);\n  return Domain.getDomainFromMinMax(minData, maxData);\n};\n\nvar getDomainFromData = function (props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var dataset = getData(props);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? Domain.getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  return axis === \"y\" ? getDomainFromMinMaxValues(dataset, props, axis) : reduceDataset(dataset, props, axis);\n};\n\nexport var getDomain = function (props, axis) {\n  return Domain.createDomainFunction(getDomainFromData)(props, axis);\n};\n\nvar getLabelStyle = function (props, styleObject, namespace) {\n  var component = props[\"\".concat(namespace, \"LabelComponent\")] || props.labelComponent;\n  var baseStyle = styleObject[\"\".concat(namespace, \"Labels\")] || styleObject.labels;\n\n  if (!Helpers.isTooltip(component)) {\n    return baseStyle;\n  }\n\n  var tooltipTheme = props.theme && props.theme.tooltip || {};\n  return _defaults({}, tooltipTheme.style, baseStyle);\n};\n\nvar getStyles = function (props, styleObject) {\n  if (props.disableInlineStyles) {\n    return {};\n  }\n\n  var style = props.style || {};\n  styleObject = styleObject || {};\n  var parentStyles = {\n    height: \"100%\",\n    width: \"100%\"\n  };\n\n  var labelStyles = _defaults({}, style.labels, getLabelStyle(props, styleObject));\n\n  var boxStyles = _defaults({}, style.boxes, styleObject.boxes);\n\n  var whiskerStyles = _defaults({}, style.whiskers, styleObject.whiskers);\n\n  return {\n    boxes: boxStyles,\n    labels: labelStyles,\n    parent: _defaults({}, style.parent, styleObject.parent, parentStyles),\n    max: _defaults({}, style.max, styleObject.max, whiskerStyles),\n    maxLabels: _defaults({}, style.maxLabels, getLabelStyle(props, styleObject, \"max\"), labelStyles),\n    median: _defaults({}, style.median, styleObject.median, whiskerStyles),\n    medianLabels: _defaults({}, style.medianLabels, getLabelStyle(props, styleObject, \"median\"), labelStyles),\n    min: _defaults({}, style.min, styleObject.min, whiskerStyles),\n    minLabels: _defaults({}, style.minLabels, getLabelStyle(props, styleObject, \"min\"), labelStyles),\n    q1: _defaults({}, style.q1, styleObject.q1, boxStyles),\n    q1Labels: _defaults({}, style.q1Labels, getLabelStyle(props, styleObject, \"q1\"), labelStyles),\n    q3: _defaults({}, style.q3, styleObject.q3, boxStyles),\n    q3Labels: _defaults({}, style.q3Labels, getLabelStyle(props, styleObject, \"q3\"), labelStyles),\n    whiskers: whiskerStyles\n  };\n};\n\nvar getCalculatedValues = function (props) {\n  var theme = props.theme,\n      horizontal = props.horizontal;\n  var data = getData(props);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: getDomain(props, \"x\"),\n    y: getDomain(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var defaultStyles = theme && theme.boxplot && theme.boxplot.style ? theme.boxplot.style : {};\n  var style = getStyles(props, defaultStyles);\n  var defaultOrientation = props.horizontal ? \"top\" : \"right\";\n  var labelOrientation = props.labelOrientation || defaultOrientation;\n  var boxWidth = props.boxWidth || 1;\n  return {\n    data: data,\n    horizontal: horizontal,\n    domain: domain,\n    scale: scale,\n    style: style,\n    labelOrientation: labelOrientation,\n    boxWidth: boxWidth\n  };\n}; // eslint-disable-next-line complexity\n\n\nvar getWhiskerProps = function (props, type) {\n  var horizontal = props.horizontal,\n      style = props.style,\n      boxWidth = props.boxWidth,\n      whiskerWidth = props.whiskerWidth,\n      datum = props.datum,\n      scale = props.scale,\n      index = props.index,\n      disableInlineStyles = props.disableInlineStyles;\n  var _props$positions = props.positions,\n      min = _props$positions.min,\n      max = _props$positions.max,\n      q1 = _props$positions.q1,\n      q3 = _props$positions.q3,\n      x = _props$positions.x,\n      y = _props$positions.y;\n  var boxValue = type === \"min\" ? q1 : q3;\n  var whiskerValue = type === \"min\" ? min : max;\n  var width = typeof whiskerWidth === \"number\" ? whiskerWidth : boxWidth;\n  return {\n    datum: datum,\n    index: index,\n    scale: scale,\n    majorWhisker: {\n      x1: horizontal ? boxValue : x,\n      y1: horizontal ? y : boxValue,\n      x2: horizontal ? whiskerValue : x,\n      y2: horizontal ? y : whiskerValue\n    },\n    minorWhisker: {\n      x1: horizontal ? whiskerValue : x - width / 2,\n      y1: horizontal ? y - width / 2 : whiskerValue,\n      x2: horizontal ? whiskerValue : x + width / 2,\n      y2: horizontal ? y + width / 2 : whiskerValue\n    },\n    style: disableInlineStyles ? {} : style[type] || style.whisker,\n    disableInlineStyles: disableInlineStyles\n  };\n};\n\nvar getBoxProps = function (props, type) {\n  var horizontal = props.horizontal,\n      boxWidth = props.boxWidth,\n      style = props.style,\n      scale = props.scale,\n      datum = props.datum,\n      index = props.index,\n      disableInlineStyles = props.disableInlineStyles;\n  var _props$positions2 = props.positions,\n      median = _props$positions2.median,\n      q1 = _props$positions2.q1,\n      q3 = _props$positions2.q3,\n      x = _props$positions2.x,\n      y = _props$positions2.y;\n  var defaultX = type === \"q1\" ? q1 : median;\n  var defaultY = type === \"q1\" ? median : q3;\n  var defaultWidth = type === \"q1\" ? median - q1 : q3 - median;\n  var defaultHeight = type === \"q1\" ? q1 - median : median - q3;\n  return {\n    datum: datum,\n    scale: scale,\n    index: index,\n    x: horizontal ? defaultX : x - boxWidth / 2,\n    y: horizontal ? y - boxWidth / 2 : defaultY,\n    width: horizontal ? defaultWidth : boxWidth,\n    height: horizontal ? boxWidth : defaultHeight,\n    style: disableInlineStyles ? {} : style[type] || style.boxes,\n    disableInlineStyles: disableInlineStyles\n  };\n};\n\nvar getMedianProps = function (props) {\n  var boxWidth = props.boxWidth,\n      horizontal = props.horizontal,\n      style = props.style,\n      datum = props.datum,\n      scale = props.scale,\n      index = props.index,\n      disableInlineStyles = props.disableInlineStyles;\n  var _props$positions3 = props.positions,\n      median = _props$positions3.median,\n      x = _props$positions3.x,\n      y = _props$positions3.y;\n  return {\n    datum: datum,\n    scale: scale,\n    index: index,\n    x1: horizontal ? median : x - boxWidth / 2,\n    y1: horizontal ? y - boxWidth / 2 : median,\n    x2: horizontal ? median : x + boxWidth / 2,\n    y2: horizontal ? y + boxWidth / 2 : median,\n    style: disableInlineStyles ? {} : style.median,\n    disableInlineStyles: disableInlineStyles\n  };\n};\n\nvar getText = function (props, type) {\n  var datum = props.datum,\n      index = props.index,\n      labels = props.labels;\n  var propName = \"\".concat(type, \"Labels\");\n  var labelProp = props[propName];\n\n  if (!labelProp && !labels) {\n    return null;\n  } else if (labelProp === true || labels === true) {\n    var dataName = \"_\".concat(type);\n    return \"\".concat(datum[dataName]);\n  }\n\n  return Array.isArray(labelProp) ? labelProp[index] : labelProp;\n};\n\nvar getOrientation = function (labelOrientation, type) {\n  return typeof labelOrientation === \"object\" && labelOrientation[type] || labelOrientation;\n};\n\nvar getLabelProps = function (props, text, type) {\n  var datum = props.datum,\n      positions = props.positions,\n      index = props.index,\n      boxWidth = props.boxWidth,\n      horizontal = props.horizontal,\n      labelOrientation = props.labelOrientation,\n      style = props.style,\n      theme = props.theme,\n      disableInlineStyles = props.disableInlineStyles;\n  var orientation = getOrientation(labelOrientation, type);\n  var namespace = \"\".concat(type, \"Labels\");\n  var labelStyle = style[namespace] || style.labels;\n  var defaultVerticalAnchors = {\n    top: \"end\",\n    bottom: \"start\",\n    left: \"middle\",\n    right: \"middle\"\n  };\n  var defaultTextAnchors = {\n    left: \"end\",\n    right: \"start\",\n    top: \"middle\",\n    bottom: \"middle\"\n  };\n  var whiskerWidth = typeof props.whiskerWidth === \"number\" ? props.whiskerWidth : boxWidth;\n  var width = type === \"min\" || type === \"max\" ? whiskerWidth : boxWidth;\n\n  var getOffset = function (coord) {\n    var sign = {\n      x: orientation === \"left\" ? -1 : 1,\n      y: orientation === \"top\" ? -1 : 1\n    };\n    return sign[coord] * width / 2 + sign[coord] * (labelStyle.padding || 0);\n  };\n\n  var labelProps = {\n    text: text,\n    datum: datum,\n    index: index,\n    orientation: orientation,\n    style: disableInlineStyles ? {} : labelStyle,\n    y: horizontal ? positions.y : positions[type],\n    x: horizontal ? positions[type] : positions.x,\n    dy: horizontal ? getOffset(\"y\") : 0,\n    dx: horizontal ? 0 : getOffset(\"x\"),\n    textAnchor: labelStyle.textAnchor || defaultTextAnchors[orientation],\n    verticalAnchor: labelStyle.verticalAnchor || defaultVerticalAnchors[orientation],\n    angle: labelStyle.angle,\n    horizontal: horizontal,\n    disableInlineStyles: disableInlineStyles\n  };\n  var component = props[\"\".concat(type, \"LabelComponent\")];\n\n  if (!Helpers.isTooltip(component)) {\n    return labelProps;\n  }\n\n  var tooltipTheme = theme && theme.tooltip || {};\n  return _defaults({}, labelProps, Helpers.omit(tooltipTheme, [\"style\"]));\n};\n\nvar getDataProps = function (props, type) {\n  if (type === \"median\") {\n    return getMedianProps(props);\n  } else if (type === \"min\" || type === \"max\") {\n    return getWhiskerProps(props, type);\n  }\n\n  return getBoxProps(props, type);\n}; // if all data points on an axis are out of bound of the domain, filter out this datum\n\n\nvar isDatumOutOfBounds = function (datum, domain) {\n  var exists = function (val) {\n    return val !== undefined;\n  };\n\n  var _x = datum._x,\n      _min = datum._min,\n      _max = datum._max;\n  var minDomainX = Collection.getMinValue(domain.x);\n  var maxDomainX = Collection.getMaxValue(domain.x);\n  var minDomainY = Collection.getMinValue(domain.y);\n  var maxDomainY = Collection.getMaxValue(domain.y);\n\n  var underMin = function (min) {\n    return function (val) {\n      return exists(val) && val < min;\n    };\n  };\n\n  var overMax = function (max) {\n    return function (val) {\n      return exists(val) && val > max;\n    };\n  };\n\n  var isUnderMinX = underMin(minDomainX);\n  var isUnderMinY = underMin(minDomainY);\n  var isOverMaxX = overMax(maxDomainX);\n  var isOverMaxY = overMax(maxDomainY);\n  var yOutOfBounds;\n  var xOutOfBounds; // if x is out of the bounds of the domain\n\n  if (isUnderMinX(_x) || isOverMaxX(_x)) xOutOfBounds = true; // if min/max are out of the bounds of the domain\n\n  if (isUnderMinY(_min) && isUnderMinY(_max) || isOverMaxY(_min) && isOverMaxY(_max)) yOutOfBounds = true;\n  return yOutOfBounds || xOutOfBounds;\n};\n\nexport var getBaseProps = function (props, fallbackProps) {\n  var modifiedProps = Helpers.modifyProps(props, fallbackProps, \"boxplot\");\n  props = _assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  var _props = props,\n      groupComponent = _props.groupComponent,\n      width = _props.width,\n      height = _props.height,\n      padding = _props.padding,\n      standalone = _props.standalone,\n      theme = _props.theme,\n      events = _props.events,\n      sharedEvents = _props.sharedEvents,\n      scale = _props.scale,\n      horizontal = _props.horizontal,\n      data = _props.data,\n      style = _props.style,\n      domain = _props.domain,\n      name = _props.name;\n  var initialChildProps = {\n    parent: {\n      domain: domain,\n      scale: scale,\n      width: width,\n      height: height,\n      data: data,\n      standalone: standalone,\n      name: name,\n      theme: theme,\n      style: style.parent || {},\n      padding: padding,\n      groupComponent: groupComponent,\n      horizontal: horizontal\n    }\n  };\n  var boxScale = scale.y;\n  return data.reduce(function (acc, datum, index) {\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n    if (isDatumOutOfBounds(datum, domain)) return acc;\n    var positions = {\n      x: horizontal ? scale.y(datum._y) : scale.x(datum._x),\n      y: horizontal ? scale.x(datum._x) : scale.y(datum._y),\n      min: boxScale(datum._min),\n      max: boxScale(datum._max),\n      median: boxScale(datum._median),\n      q1: boxScale(datum._q1),\n      q3: boxScale(datum._q3)\n    };\n\n    var dataProps = _assign({\n      index: index,\n      datum: datum,\n      positions: positions\n    }, props);\n\n    var dataObj = TYPES.reduce(function (memo, type) {\n      memo[type] = getDataProps(dataProps, type);\n      return memo;\n    }, {});\n    acc[eventKey] = dataObj;\n    TYPES.forEach(function (type) {\n      var labelText = getText(dataProps, type);\n      var labelProp = props.labels || props[\"\".concat(type, \"Labels\")];\n\n      if (labelText !== null && labelText !== undefined || labelProp && (events || sharedEvents)) {\n        var target = \"\".concat(type, \"Labels\");\n        acc[eventKey][target] = getLabelProps(_assign({}, props, dataProps), labelText, type);\n      }\n    });\n    return acc;\n  }, initialChildProps);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}