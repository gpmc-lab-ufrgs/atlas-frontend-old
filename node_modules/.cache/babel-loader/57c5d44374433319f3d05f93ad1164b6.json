{"ast":null,"code":"import _mapValues from \"lodash/mapValues\";\nimport _defaults from \"lodash/defaults\";\nimport _isFunction from \"lodash/isFunction\";\nimport _throttle from \"lodash/throttle\";\nimport _assign from \"lodash/assign\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { Selection } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar Helpers = {\n  getDimension: function (props) {\n    var horizontal = props.horizontal,\n        brushDimension = props.brushDimension;\n\n    if (!horizontal || !brushDimension) {\n      return brushDimension;\n    }\n\n    return brushDimension === \"x\" ? \"y\" : \"x\";\n  },\n  withinBounds: function (point, bounds, padding) {\n    var _mapValues2 = _mapValues(bounds, Number),\n        x1 = _mapValues2.x1,\n        x2 = _mapValues2.x2,\n        y1 = _mapValues2.y1,\n        y2 = _mapValues2.y2;\n\n    var _mapValues3 = _mapValues(point, Number),\n        x = _mapValues3.x,\n        y = _mapValues3.y;\n\n    padding = padding ? padding / 2 : 0;\n    return x + padding >= Math.min(x1, x2) && x - padding <= Math.max(x1, x2) && y + padding >= Math.min(y1, y2) && y - padding <= Math.max(y1, y2);\n  },\n  getDomainBox: function (props, fullDomain, selectedDomain) {\n    var brushDimension = this.getDimension(props);\n    fullDomain = _defaults({}, fullDomain, props.domain);\n    selectedDomain = _defaults({}, selectedDomain, fullDomain);\n    var fullCoords = Selection.getDomainCoordinates(props, fullDomain);\n    var selectedCoords = Selection.getDomainCoordinates(props, selectedDomain);\n    return {\n      x1: brushDimension !== \"y\" ? Math.min.apply(Math, _toConsumableArray(selectedCoords.x)) : Math.min.apply(Math, _toConsumableArray(fullCoords.x)),\n      x2: brushDimension !== \"y\" ? Math.max.apply(Math, _toConsumableArray(selectedCoords.x)) : Math.max.apply(Math, _toConsumableArray(fullCoords.x)),\n      y1: brushDimension !== \"x\" ? Math.min.apply(Math, _toConsumableArray(selectedCoords.y)) : Math.min.apply(Math, _toConsumableArray(fullCoords.y)),\n      y2: brushDimension !== \"x\" ? Math.max.apply(Math, _toConsumableArray(selectedCoords.y)) : Math.max.apply(Math, _toConsumableArray(fullCoords.y))\n    };\n  },\n  getHandles: function (props, domainBox) {\n    var brushDimension = this.getDimension(props);\n    var x1 = domainBox.x1,\n        x2 = domainBox.x2,\n        y1 = domainBox.y1,\n        y2 = domainBox.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var handleWidth = props.handleWidth / 2;\n    return {\n      left: brushDimension !== \"y\" && {\n        x1: minX - handleWidth,\n        x2: minX + handleWidth,\n        y1: y1,\n        y2: y2\n      },\n      right: brushDimension !== \"y\" && {\n        x1: maxX - handleWidth,\n        x2: maxX + handleWidth,\n        y1: y1,\n        y2: y2\n      },\n      top: brushDimension !== \"x\" && {\n        x1: x1,\n        x2: x2,\n        y1: minY - handleWidth,\n        y2: minY + handleWidth\n      },\n      bottom: brushDimension !== \"x\" && {\n        x1: x1,\n        x2: x2,\n        y1: maxY - handleWidth,\n        y2: maxY + handleWidth\n      }\n    };\n  },\n  getActiveHandles: function (point, props, domainBox) {\n    var _this = this;\n\n    var handles = this.getHandles(props, domainBox);\n    var activeHandles = [\"top\", \"bottom\", \"left\", \"right\"].reduce(function (memo, opt) {\n      memo = handles[opt] && _this.withinBounds(point, handles[opt]) ? memo.concat(opt) : memo;\n      return memo;\n    }, []);\n    return activeHandles.length && activeHandles;\n  },\n  getResizeMutation: function (box, handles) {\n    var x1 = box.x1,\n        y1 = box.y1,\n        x2 = box.x2,\n        y2 = box.y2;\n    var mutations = {\n      left: {\n        x1: Math.max(x1, x2),\n        x2: Math.min(x1, x2),\n        y1: y1,\n        y2: y2\n      },\n      right: {\n        x1: Math.min(x1, x2),\n        x2: Math.max(x1, x2),\n        y1: y1,\n        y2: y2\n      },\n      top: {\n        y1: Math.max(y1, y2),\n        y2: Math.min(y1, y2),\n        x1: x1,\n        x2: x2\n      },\n      bottom: {\n        y1: Math.min(y1, y2),\n        y2: Math.max(y1, y2),\n        x1: x1,\n        x2: x2\n      }\n    };\n    return handles.reduce(function (memo, current) {\n      return _assign(memo, mutations[current]);\n    }, {});\n  },\n  getMinimumDomain: function () {\n    return {\n      x: [0, 1 / Number.MAX_SAFE_INTEGER],\n      y: [0, 1 / Number.MAX_SAFE_INTEGER]\n    };\n  },\n  getDefaultBrushArea: function (targetProps, cachedDomain, evt) {\n    var domain = targetProps.domain,\n        fullDomain = targetProps.fullDomain,\n        scale = targetProps.scale,\n        horizontal = targetProps.horizontal,\n        allowResize = targetProps.allowResize;\n    var defaultBrushArea = !allowResize && !targetProps.defaultBrushArea ? \"move\" : targetProps.defaultBrushArea;\n\n    if (defaultBrushArea === \"none\") {\n      return this.getMinimumDomain();\n    } else if (defaultBrushArea === \"disable\") {\n      return cachedDomain;\n    } else if (defaultBrushArea === \"move\") {\n      var brushBox = this.getDomainBox(targetProps, fullDomain, cachedDomain);\n      var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n      var pannedBox = this.panBox(_objectSpread(_objectSpread(_objectSpread({}, targetProps), brushBox), {}, {\n        brushDomain: cachedDomain,\n        startX: (brushBox.x1 + brushBox.x2) / 2,\n        startY: (brushBox.y1 + brushBox.y2) / 2\n      }), Selection.getSVGEventCoordinates(evt, parentSVG));\n      var fullDomainBox = targetProps.fullDomainBox || this.getDomainBox(targetProps, fullDomain);\n      var constrainedBox = this.constrainBox(pannedBox, fullDomainBox);\n      return Selection.getBounds(_objectSpread(_objectSpread({}, constrainedBox), {}, {\n        scale: scale,\n        horizontal: horizontal\n      }));\n    } else {\n      return domain;\n    }\n  },\n  getSelectionMutation: function (point, box, brushDimension) {\n    var x = point.x,\n        y = point.y;\n    var x1 = box.x1,\n        x2 = box.x2,\n        y1 = box.y1,\n        y2 = box.y2;\n    return {\n      x1: brushDimension !== \"y\" ? x : x1,\n      y1: brushDimension !== \"x\" ? y : y1,\n      x2: brushDimension !== \"y\" ? x : x2,\n      y2: brushDimension !== \"x\" ? y : y2\n    };\n  },\n  panBox: function (props, point) {\n    var domain = props.domain,\n        startX = props.startX,\n        startY = props.startY;\n    var brushDimension = this.getDimension(props);\n\n    var brushDomain = _defaults({}, props.brushDomain, domain);\n\n    var fullDomain = _defaults({}, props.fullDomain, domain);\n\n    var _ref = props.x1 ? props : this.getDomainBox(props, fullDomain, brushDomain),\n        x1 = _ref.x1,\n        x2 = _ref.x2,\n        y1 = _ref.y1,\n        y2 = _ref.y2;\n\n    var x = point.x,\n        y = point.y;\n    var delta = {\n      x: startX ? startX - x : 0,\n      y: startY ? startY - y : 0\n    };\n    return {\n      x1: brushDimension !== \"y\" ? Math.min(x1, x2) - delta.x : Math.min(x1, x2),\n      x2: brushDimension !== \"y\" ? Math.max(x1, x2) - delta.x : Math.max(x1, x2),\n      y1: brushDimension !== \"x\" ? Math.min(y1, y2) - delta.y : Math.min(y1, y2),\n      y2: brushDimension !== \"x\" ? Math.max(y1, y2) - delta.y : Math.max(y1, y2)\n    };\n  },\n  constrainBox: function (box, fullDomainBox) {\n    var _mapValues4 = _mapValues(fullDomainBox, Number),\n        x1 = _mapValues4.x1,\n        y1 = _mapValues4.y1,\n        x2 = _mapValues4.x2,\n        y2 = _mapValues4.y2;\n\n    return {\n      x1: box.x2 > x2 ? x2 - Math.abs(box.x2 - box.x1) : Math.max(box.x1, x1),\n      y1: box.y2 > y2 ? y2 - Math.abs(box.y2 - box.y1) : Math.max(box.y1, y1),\n      x2: box.x1 < x1 ? x1 + Math.abs(box.x2 - box.x1) : Math.min(box.x2, x2),\n      y2: box.y1 < y1 ? y1 + Math.abs(box.y2 - box.y1) : Math.min(box.y2, y2)\n    };\n  },\n  constrainPoint: function (point, fullDomainBox) {\n    var _mapValues5 = _mapValues(fullDomainBox, Number),\n        x1 = _mapValues5.x1,\n        y1 = _mapValues5.y1,\n        x2 = _mapValues5.x2,\n        y2 = _mapValues5.y2;\n\n    return {\n      x: Math.min(Math.max(point.x, x1), x2),\n      y: Math.min(Math.max(point.y, y1), y2)\n    };\n  },\n  hasMoved: function (props) {\n    var x1 = props.x1,\n        x2 = props.x2,\n        y1 = props.y1,\n        y2 = props.y2,\n        mouseMoveThreshold = props.mouseMoveThreshold;\n    var brushDimension = this.getDimension(props);\n    var xMoved = Math.abs(x1 - x2) >= mouseMoveThreshold;\n    var yMoved = Math.abs(y1 - y2) >= mouseMoveThreshold;\n\n    switch (brushDimension) {\n      case \"x\":\n        return xMoved;\n\n      case \"y\":\n        return yMoved;\n\n      default:\n        return xMoved || yMoved;\n    }\n  },\n  // eslint-disable-next-line max-statements, complexity\n  onMouseDown: function (evt, targetProps) {\n    var _this2 = this;\n\n    evt.preventDefault();\n    var handleWidth = targetProps.handleWidth,\n        cachedBrushDomain = targetProps.cachedBrushDomain,\n        domain = targetProps.domain,\n        allowResize = targetProps.allowResize,\n        allowDrag = targetProps.allowDrag,\n        allowDraw = targetProps.allowDraw;\n    var brushDimension = this.getDimension(targetProps);\n    var defaultBrushArea = !allowResize && !targetProps.defaultBrushArea ? \"move\" : targetProps.defaultBrushArea; // Don't trigger events for static brushes\n\n    if (!allowResize && !allowDrag) {\n      return {};\n    }\n\n    var fullDomainBox = targetProps.fullDomainBox || this.getDomainBox(targetProps, domain);\n    var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n\n    var _Selection$getSVGEven = Selection.getSVGEventCoordinates(evt, parentSVG),\n        x = _Selection$getSVGEven.x,\n        y = _Selection$getSVGEven.y; // Ignore events that occur outside of the maximum domain region\n\n\n    if (!this.withinBounds({\n      x: x,\n      y: y\n    }, fullDomainBox, handleWidth)) {\n      return {};\n    }\n\n    var brushDomain = _defaults({}, targetProps.brushDomain, domain);\n\n    var currentDomain = isEqual(brushDomain, cachedBrushDomain) ? targetProps.currentDomain || brushDomain || domain : brushDomain || domain;\n    var domainBox = this.getDomainBox(targetProps, domain, currentDomain);\n    var activeHandles = allowResize && this.getActiveHandles({\n      x: x,\n      y: y\n    }, targetProps, domainBox); // If the event occurs in any of the handle regions, start a resize\n\n    if (activeHandles) {\n      return [{\n        target: \"parent\",\n        mutation: function () {\n          return _objectSpread({\n            isSelecting: true,\n            domainBox: domainBox,\n            fullDomainBox: fullDomainBox,\n            cachedBrushDomain: brushDomain,\n            currentDomain: currentDomain,\n            parentSVG: parentSVG\n          }, _this2.getResizeMutation(domainBox, activeHandles));\n        }\n      }];\n    } else if (this.withinBounds({\n      x: x,\n      y: y\n    }, domainBox) && !isEqual(domain, currentDomain)) {\n      // if the event occurs within a selected region start a panning event, unless the whole\n      // domain is selected\n      return [{\n        target: \"parent\",\n        mutation: function () {\n          return _objectSpread({\n            isPanning: allowDrag,\n            startX: x,\n            startY: y,\n            domainBox: domainBox,\n            fullDomainBox: fullDomainBox,\n            currentDomain: currentDomain,\n            cachedBrushDomain: brushDomain,\n            parentSVG: parentSVG\n          }, domainBox);\n        }\n      }];\n    } else {\n      // if the event occurs outside the region, or if the whole domain is selected,\n      // start a new selection\n      return allowDraw ? [{\n        target: \"parent\",\n        mutation: function () {\n          return _objectSpread({\n            isSelecting: allowResize || defaultBrushArea === \"move\",\n            domainBox: domainBox,\n            fullDomainBox: fullDomainBox,\n            parentSVG: parentSVG,\n            cachedBrushDomain: brushDomain,\n            cachedCurrentDomain: currentDomain,\n            currentDomain: _this2.getMinimumDomain()\n          }, _this2.getSelectionMutation({\n            x: x,\n            y: y\n          }, domainBox, brushDimension));\n        }\n      }] : {};\n    }\n  },\n  // eslint-disable-next-line max-statements, complexity\n  onGlobalMouseMove: function (evt, targetProps) {\n    var scale = targetProps.scale,\n        isPanning = targetProps.isPanning,\n        isSelecting = targetProps.isSelecting,\n        fullDomainBox = targetProps.fullDomainBox,\n        onBrushDomainChange = targetProps.onBrushDomainChange,\n        allowResize = targetProps.allowResize,\n        allowDrag = targetProps.allowDrag,\n        horizontal = targetProps.horizontal,\n        mouseMoveThreshold = targetProps.mouseMoveThreshold,\n        parentSVG = targetProps.parentSVG;\n    var brushDimension = this.getDimension(targetProps);\n\n    var _Selection$getSVGEven2 = Selection.getSVGEventCoordinates(evt, parentSVG),\n        x = _Selection$getSVGEven2.x,\n        y = _Selection$getSVGEven2.y;\n\n    if (!allowResize && !allowDrag || mouseMoveThreshold > 0 && !this.hasMoved(_objectSpread(_objectSpread({}, targetProps), {}, {\n      x2: x,\n      y2: y\n    }))) {\n      return {};\n    }\n\n    if (allowDrag && isPanning) {\n      var startX = targetProps.startX,\n          startY = targetProps.startY;\n      var pannedBox = this.panBox(targetProps, {\n        x: x,\n        y: y\n      });\n      var constrainedBox = this.constrainBox(pannedBox, fullDomainBox);\n      var currentDomain = Selection.getBounds(_objectSpread(_objectSpread({}, constrainedBox), {}, {\n        scale: scale,\n        horizontal: horizontal\n      }));\n\n      var mutatedProps = _objectSpread({\n        currentDomain: currentDomain,\n        parentSVG: parentSVG,\n        startX: pannedBox.x2 >= fullDomainBox.x2 || pannedBox.x1 <= fullDomainBox.x1 ? startX : x,\n        startY: pannedBox.y2 >= fullDomainBox.y2 || pannedBox.y1 <= fullDomainBox.y1 ? startY : y\n      }, constrainedBox);\n\n      if (_isFunction(onBrushDomainChange)) {\n        onBrushDomainChange(currentDomain, _defaults({}, mutatedProps, targetProps));\n      }\n\n      return [{\n        target: \"parent\",\n        mutation: function () {\n          return mutatedProps;\n        }\n      }];\n    } else if (allowResize && isSelecting) {\n      var _this$constrainPoint = this.constrainPoint({\n        x: brushDimension !== \"y\" ? x : targetProps.x2,\n        y: brushDimension !== \"x\" ? y : targetProps.y2\n      }, fullDomainBox),\n          x2 = _this$constrainPoint.x,\n          y2 = _this$constrainPoint.y;\n\n      var _currentDomain = Selection.getBounds({\n        x2: x2,\n        y2: y2,\n        x1: targetProps.x1,\n        y1: targetProps.y1,\n        scale: scale,\n        horizontal: horizontal\n      });\n\n      var _mutatedProps = {\n        x2: x2,\n        y2: y2,\n        currentDomain: _currentDomain,\n        parentSVG: parentSVG\n      };\n\n      if (_isFunction(onBrushDomainChange)) {\n        onBrushDomainChange(_currentDomain, _defaults({}, _mutatedProps, targetProps));\n      }\n\n      return [{\n        target: \"parent\",\n        mutation: function () {\n          return _mutatedProps;\n        }\n      }];\n    }\n\n    return {};\n  },\n  // eslint-disable-next-line complexity\n  onGlobalMouseUp: function (evt, targetProps) {\n    // if a panning or selection has not been started, ignore the event\n    if (!targetProps.isPanning && !targetProps.isSelecting) {\n      return {};\n    } // eslint-disable-line max-statements, complexity\n\n\n    var x1 = targetProps.x1,\n        y1 = targetProps.y1,\n        x2 = targetProps.x2,\n        y2 = targetProps.y2,\n        isPanning = targetProps.isPanning,\n        isSelecting = targetProps.isSelecting,\n        onBrushDomainChange = targetProps.onBrushDomainChange,\n        onBrushDomainChangeEnd = targetProps.onBrushDomainChangeEnd,\n        onBrushCleared = targetProps.onBrushCleared,\n        currentDomain = targetProps.currentDomain,\n        allowResize = targetProps.allowResize,\n        allowDrag = targetProps.allowDrag;\n    var defaultBrushArea = !allowResize && !targetProps.defaultBrushArea ? \"move\" : targetProps.defaultBrushArea;\n    var defaultBrushHasArea = defaultBrushArea !== undefined && defaultBrushArea !== \"none\";\n    var mutatedProps = {\n      isPanning: false,\n      isSelecting: false\n    }; // if the mouse hasn't moved since a mouseDown event, select the default brush area\n\n    if ((allowResize || defaultBrushHasArea) && (x1 === x2 || y1 === y2)) {\n      var cachedDomain = targetProps.cachedCurrentDomain || currentDomain;\n      var defaultDomain = this.getDefaultBrushArea(targetProps, cachedDomain, evt);\n      mutatedProps.currentDomain = defaultDomain;\n\n      if (_isFunction(onBrushDomainChange)) {\n        onBrushDomainChange(defaultDomain, _defaults({}, mutatedProps, targetProps));\n      }\n\n      if (_isFunction(onBrushDomainChangeEnd)) {\n        onBrushDomainChangeEnd(defaultDomain, _defaults({}, mutatedProps, targetProps));\n      }\n\n      if (_isFunction(onBrushCleared)) {\n        onBrushCleared(defaultDomain, _defaults({}, mutatedProps, targetProps));\n      }\n    } else if (allowDrag && isPanning || allowResize && isSelecting) {\n      if (_isFunction(onBrushDomainChangeEnd)) {\n        onBrushDomainChangeEnd(currentDomain, _defaults({}, mutatedProps, targetProps));\n      }\n    }\n\n    return [{\n      target: \"parent\",\n      mutation: function () {\n        return mutatedProps;\n      }\n    }];\n  }\n};\nexport default _objectSpread(_objectSpread({}, Helpers), {}, {\n  onMouseDown: Helpers.onMouseDown.bind(Helpers),\n  onGlobalMouseUp: Helpers.onGlobalMouseUp.bind(Helpers),\n  onGlobalMouseMove: _throttle(Helpers.onGlobalMouseMove.bind(Helpers), 16, // eslint-disable-line no-magic-numbers\n  {\n    leading: true,\n    trailing: false\n  })\n});","map":{"version":3,"names":["_mapValues","_defaults","_isFunction","_throttle","_assign","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","Selection","isEqual","Helpers","getDimension","props","horizontal","brushDimension","withinBounds","point","bounds","padding","_mapValues2","Number","x1","x2","y1","y2","_mapValues3","x","y","Math","min","max","getDomainBox","fullDomain","selectedDomain","domain","fullCoords","getDomainCoordinates","selectedCoords","getHandles","domainBox","minX","maxX","minY","maxY","handleWidth","left","right","top","bottom","getActiveHandles","_this","handles","activeHandles","reduce","memo","opt","concat","getResizeMutation","box","mutations","current","getMinimumDomain","MAX_SAFE_INTEGER","getDefaultBrushArea","targetProps","cachedDomain","evt","scale","allowResize","defaultBrushArea","brushBox","parentSVG","getParentSVG","pannedBox","panBox","brushDomain","startX","startY","getSVGEventCoordinates","fullDomainBox","constrainedBox","constrainBox","getBounds","getSelectionMutation","_ref","delta","_mapValues4","abs","constrainPoint","_mapValues5","hasMoved","mouseMoveThreshold","xMoved","yMoved","onMouseDown","_this2","preventDefault","cachedBrushDomain","allowDrag","allowDraw","_Selection$getSVGEven","currentDomain","mutation","isSelecting","isPanning","cachedCurrentDomain","onGlobalMouseMove","onBrushDomainChange","_Selection$getSVGEven2","mutatedProps","_this$constrainPoint","_currentDomain","_mutatedProps","onGlobalMouseUp","onBrushDomainChangeEnd","onBrushCleared","defaultBrushHasArea","undefined","defaultDomain","bind","leading","trailing"],"sources":["/Users/leonardogomes/Documents/atlas/atlas/node_modules/victory-brush-container/es/brush-helpers.js"],"sourcesContent":["import _mapValues from \"lodash/mapValues\";\nimport _defaults from \"lodash/defaults\";\nimport _isFunction from \"lodash/isFunction\";\nimport _throttle from \"lodash/throttle\";\nimport _assign from \"lodash/assign\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { Selection } from \"victory-core\";\nimport isEqual from \"react-fast-compare\";\nvar Helpers = {\n  getDimension: function (props) {\n    var horizontal = props.horizontal,\n        brushDimension = props.brushDimension;\n\n    if (!horizontal || !brushDimension) {\n      return brushDimension;\n    }\n\n    return brushDimension === \"x\" ? \"y\" : \"x\";\n  },\n  withinBounds: function (point, bounds, padding) {\n    var _mapValues2 = _mapValues(bounds, Number),\n        x1 = _mapValues2.x1,\n        x2 = _mapValues2.x2,\n        y1 = _mapValues2.y1,\n        y2 = _mapValues2.y2;\n\n    var _mapValues3 = _mapValues(point, Number),\n        x = _mapValues3.x,\n        y = _mapValues3.y;\n\n    padding = padding ? padding / 2 : 0;\n    return x + padding >= Math.min(x1, x2) && x - padding <= Math.max(x1, x2) && y + padding >= Math.min(y1, y2) && y - padding <= Math.max(y1, y2);\n  },\n  getDomainBox: function (props, fullDomain, selectedDomain) {\n    var brushDimension = this.getDimension(props);\n    fullDomain = _defaults({}, fullDomain, props.domain);\n    selectedDomain = _defaults({}, selectedDomain, fullDomain);\n    var fullCoords = Selection.getDomainCoordinates(props, fullDomain);\n    var selectedCoords = Selection.getDomainCoordinates(props, selectedDomain);\n    return {\n      x1: brushDimension !== \"y\" ? Math.min.apply(Math, _toConsumableArray(selectedCoords.x)) : Math.min.apply(Math, _toConsumableArray(fullCoords.x)),\n      x2: brushDimension !== \"y\" ? Math.max.apply(Math, _toConsumableArray(selectedCoords.x)) : Math.max.apply(Math, _toConsumableArray(fullCoords.x)),\n      y1: brushDimension !== \"x\" ? Math.min.apply(Math, _toConsumableArray(selectedCoords.y)) : Math.min.apply(Math, _toConsumableArray(fullCoords.y)),\n      y2: brushDimension !== \"x\" ? Math.max.apply(Math, _toConsumableArray(selectedCoords.y)) : Math.max.apply(Math, _toConsumableArray(fullCoords.y))\n    };\n  },\n  getHandles: function (props, domainBox) {\n    var brushDimension = this.getDimension(props);\n    var x1 = domainBox.x1,\n        x2 = domainBox.x2,\n        y1 = domainBox.y1,\n        y2 = domainBox.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var handleWidth = props.handleWidth / 2;\n    return {\n      left: brushDimension !== \"y\" && {\n        x1: minX - handleWidth,\n        x2: minX + handleWidth,\n        y1: y1,\n        y2: y2\n      },\n      right: brushDimension !== \"y\" && {\n        x1: maxX - handleWidth,\n        x2: maxX + handleWidth,\n        y1: y1,\n        y2: y2\n      },\n      top: brushDimension !== \"x\" && {\n        x1: x1,\n        x2: x2,\n        y1: minY - handleWidth,\n        y2: minY + handleWidth\n      },\n      bottom: brushDimension !== \"x\" && {\n        x1: x1,\n        x2: x2,\n        y1: maxY - handleWidth,\n        y2: maxY + handleWidth\n      }\n    };\n  },\n  getActiveHandles: function (point, props, domainBox) {\n    var _this = this;\n\n    var handles = this.getHandles(props, domainBox);\n    var activeHandles = [\"top\", \"bottom\", \"left\", \"right\"].reduce(function (memo, opt) {\n      memo = handles[opt] && _this.withinBounds(point, handles[opt]) ? memo.concat(opt) : memo;\n      return memo;\n    }, []);\n    return activeHandles.length && activeHandles;\n  },\n  getResizeMutation: function (box, handles) {\n    var x1 = box.x1,\n        y1 = box.y1,\n        x2 = box.x2,\n        y2 = box.y2;\n    var mutations = {\n      left: {\n        x1: Math.max(x1, x2),\n        x2: Math.min(x1, x2),\n        y1: y1,\n        y2: y2\n      },\n      right: {\n        x1: Math.min(x1, x2),\n        x2: Math.max(x1, x2),\n        y1: y1,\n        y2: y2\n      },\n      top: {\n        y1: Math.max(y1, y2),\n        y2: Math.min(y1, y2),\n        x1: x1,\n        x2: x2\n      },\n      bottom: {\n        y1: Math.min(y1, y2),\n        y2: Math.max(y1, y2),\n        x1: x1,\n        x2: x2\n      }\n    };\n    return handles.reduce(function (memo, current) {\n      return _assign(memo, mutations[current]);\n    }, {});\n  },\n  getMinimumDomain: function () {\n    return {\n      x: [0, 1 / Number.MAX_SAFE_INTEGER],\n      y: [0, 1 / Number.MAX_SAFE_INTEGER]\n    };\n  },\n  getDefaultBrushArea: function (targetProps, cachedDomain, evt) {\n    var domain = targetProps.domain,\n        fullDomain = targetProps.fullDomain,\n        scale = targetProps.scale,\n        horizontal = targetProps.horizontal,\n        allowResize = targetProps.allowResize;\n    var defaultBrushArea = !allowResize && !targetProps.defaultBrushArea ? \"move\" : targetProps.defaultBrushArea;\n\n    if (defaultBrushArea === \"none\") {\n      return this.getMinimumDomain();\n    } else if (defaultBrushArea === \"disable\") {\n      return cachedDomain;\n    } else if (defaultBrushArea === \"move\") {\n      var brushBox = this.getDomainBox(targetProps, fullDomain, cachedDomain);\n      var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n      var pannedBox = this.panBox(_objectSpread(_objectSpread(_objectSpread({}, targetProps), brushBox), {}, {\n        brushDomain: cachedDomain,\n        startX: (brushBox.x1 + brushBox.x2) / 2,\n        startY: (brushBox.y1 + brushBox.y2) / 2\n      }), Selection.getSVGEventCoordinates(evt, parentSVG));\n      var fullDomainBox = targetProps.fullDomainBox || this.getDomainBox(targetProps, fullDomain);\n      var constrainedBox = this.constrainBox(pannedBox, fullDomainBox);\n      return Selection.getBounds(_objectSpread(_objectSpread({}, constrainedBox), {}, {\n        scale: scale,\n        horizontal: horizontal\n      }));\n    } else {\n      return domain;\n    }\n  },\n  getSelectionMutation: function (point, box, brushDimension) {\n    var x = point.x,\n        y = point.y;\n    var x1 = box.x1,\n        x2 = box.x2,\n        y1 = box.y1,\n        y2 = box.y2;\n    return {\n      x1: brushDimension !== \"y\" ? x : x1,\n      y1: brushDimension !== \"x\" ? y : y1,\n      x2: brushDimension !== \"y\" ? x : x2,\n      y2: brushDimension !== \"x\" ? y : y2\n    };\n  },\n  panBox: function (props, point) {\n    var domain = props.domain,\n        startX = props.startX,\n        startY = props.startY;\n    var brushDimension = this.getDimension(props);\n\n    var brushDomain = _defaults({}, props.brushDomain, domain);\n\n    var fullDomain = _defaults({}, props.fullDomain, domain);\n\n    var _ref = props.x1 ? props : this.getDomainBox(props, fullDomain, brushDomain),\n        x1 = _ref.x1,\n        x2 = _ref.x2,\n        y1 = _ref.y1,\n        y2 = _ref.y2;\n\n    var x = point.x,\n        y = point.y;\n    var delta = {\n      x: startX ? startX - x : 0,\n      y: startY ? startY - y : 0\n    };\n    return {\n      x1: brushDimension !== \"y\" ? Math.min(x1, x2) - delta.x : Math.min(x1, x2),\n      x2: brushDimension !== \"y\" ? Math.max(x1, x2) - delta.x : Math.max(x1, x2),\n      y1: brushDimension !== \"x\" ? Math.min(y1, y2) - delta.y : Math.min(y1, y2),\n      y2: brushDimension !== \"x\" ? Math.max(y1, y2) - delta.y : Math.max(y1, y2)\n    };\n  },\n  constrainBox: function (box, fullDomainBox) {\n    var _mapValues4 = _mapValues(fullDomainBox, Number),\n        x1 = _mapValues4.x1,\n        y1 = _mapValues4.y1,\n        x2 = _mapValues4.x2,\n        y2 = _mapValues4.y2;\n\n    return {\n      x1: box.x2 > x2 ? x2 - Math.abs(box.x2 - box.x1) : Math.max(box.x1, x1),\n      y1: box.y2 > y2 ? y2 - Math.abs(box.y2 - box.y1) : Math.max(box.y1, y1),\n      x2: box.x1 < x1 ? x1 + Math.abs(box.x2 - box.x1) : Math.min(box.x2, x2),\n      y2: box.y1 < y1 ? y1 + Math.abs(box.y2 - box.y1) : Math.min(box.y2, y2)\n    };\n  },\n  constrainPoint: function (point, fullDomainBox) {\n    var _mapValues5 = _mapValues(fullDomainBox, Number),\n        x1 = _mapValues5.x1,\n        y1 = _mapValues5.y1,\n        x2 = _mapValues5.x2,\n        y2 = _mapValues5.y2;\n\n    return {\n      x: Math.min(Math.max(point.x, x1), x2),\n      y: Math.min(Math.max(point.y, y1), y2)\n    };\n  },\n  hasMoved: function (props) {\n    var x1 = props.x1,\n        x2 = props.x2,\n        y1 = props.y1,\n        y2 = props.y2,\n        mouseMoveThreshold = props.mouseMoveThreshold;\n    var brushDimension = this.getDimension(props);\n    var xMoved = Math.abs(x1 - x2) >= mouseMoveThreshold;\n    var yMoved = Math.abs(y1 - y2) >= mouseMoveThreshold;\n\n    switch (brushDimension) {\n      case \"x\":\n        return xMoved;\n\n      case \"y\":\n        return yMoved;\n\n      default:\n        return xMoved || yMoved;\n    }\n  },\n  // eslint-disable-next-line max-statements, complexity\n  onMouseDown: function (evt, targetProps) {\n    var _this2 = this;\n\n    evt.preventDefault();\n    var handleWidth = targetProps.handleWidth,\n        cachedBrushDomain = targetProps.cachedBrushDomain,\n        domain = targetProps.domain,\n        allowResize = targetProps.allowResize,\n        allowDrag = targetProps.allowDrag,\n        allowDraw = targetProps.allowDraw;\n    var brushDimension = this.getDimension(targetProps);\n    var defaultBrushArea = !allowResize && !targetProps.defaultBrushArea ? \"move\" : targetProps.defaultBrushArea; // Don't trigger events for static brushes\n\n    if (!allowResize && !allowDrag) {\n      return {};\n    }\n\n    var fullDomainBox = targetProps.fullDomainBox || this.getDomainBox(targetProps, domain);\n    var parentSVG = targetProps.parentSVG || Selection.getParentSVG(evt);\n\n    var _Selection$getSVGEven = Selection.getSVGEventCoordinates(evt, parentSVG),\n        x = _Selection$getSVGEven.x,\n        y = _Selection$getSVGEven.y; // Ignore events that occur outside of the maximum domain region\n\n\n    if (!this.withinBounds({\n      x: x,\n      y: y\n    }, fullDomainBox, handleWidth)) {\n      return {};\n    }\n\n    var brushDomain = _defaults({}, targetProps.brushDomain, domain);\n\n    var currentDomain = isEqual(brushDomain, cachedBrushDomain) ? targetProps.currentDomain || brushDomain || domain : brushDomain || domain;\n    var domainBox = this.getDomainBox(targetProps, domain, currentDomain);\n    var activeHandles = allowResize && this.getActiveHandles({\n      x: x,\n      y: y\n    }, targetProps, domainBox); // If the event occurs in any of the handle regions, start a resize\n\n    if (activeHandles) {\n      return [{\n        target: \"parent\",\n        mutation: function () {\n          return _objectSpread({\n            isSelecting: true,\n            domainBox: domainBox,\n            fullDomainBox: fullDomainBox,\n            cachedBrushDomain: brushDomain,\n            currentDomain: currentDomain,\n            parentSVG: parentSVG\n          }, _this2.getResizeMutation(domainBox, activeHandles));\n        }\n      }];\n    } else if (this.withinBounds({\n      x: x,\n      y: y\n    }, domainBox) && !isEqual(domain, currentDomain)) {\n      // if the event occurs within a selected region start a panning event, unless the whole\n      // domain is selected\n      return [{\n        target: \"parent\",\n        mutation: function () {\n          return _objectSpread({\n            isPanning: allowDrag,\n            startX: x,\n            startY: y,\n            domainBox: domainBox,\n            fullDomainBox: fullDomainBox,\n            currentDomain: currentDomain,\n            cachedBrushDomain: brushDomain,\n            parentSVG: parentSVG\n          }, domainBox);\n        }\n      }];\n    } else {\n      // if the event occurs outside the region, or if the whole domain is selected,\n      // start a new selection\n      return allowDraw ? [{\n        target: \"parent\",\n        mutation: function () {\n          return _objectSpread({\n            isSelecting: allowResize || defaultBrushArea === \"move\",\n            domainBox: domainBox,\n            fullDomainBox: fullDomainBox,\n            parentSVG: parentSVG,\n            cachedBrushDomain: brushDomain,\n            cachedCurrentDomain: currentDomain,\n            currentDomain: _this2.getMinimumDomain()\n          }, _this2.getSelectionMutation({\n            x: x,\n            y: y\n          }, domainBox, brushDimension));\n        }\n      }] : {};\n    }\n  },\n  // eslint-disable-next-line max-statements, complexity\n  onGlobalMouseMove: function (evt, targetProps) {\n    var scale = targetProps.scale,\n        isPanning = targetProps.isPanning,\n        isSelecting = targetProps.isSelecting,\n        fullDomainBox = targetProps.fullDomainBox,\n        onBrushDomainChange = targetProps.onBrushDomainChange,\n        allowResize = targetProps.allowResize,\n        allowDrag = targetProps.allowDrag,\n        horizontal = targetProps.horizontal,\n        mouseMoveThreshold = targetProps.mouseMoveThreshold,\n        parentSVG = targetProps.parentSVG;\n    var brushDimension = this.getDimension(targetProps);\n\n    var _Selection$getSVGEven2 = Selection.getSVGEventCoordinates(evt, parentSVG),\n        x = _Selection$getSVGEven2.x,\n        y = _Selection$getSVGEven2.y;\n\n    if (!allowResize && !allowDrag || mouseMoveThreshold > 0 && !this.hasMoved(_objectSpread(_objectSpread({}, targetProps), {}, {\n      x2: x,\n      y2: y\n    }))) {\n      return {};\n    }\n\n    if (allowDrag && isPanning) {\n      var startX = targetProps.startX,\n          startY = targetProps.startY;\n      var pannedBox = this.panBox(targetProps, {\n        x: x,\n        y: y\n      });\n      var constrainedBox = this.constrainBox(pannedBox, fullDomainBox);\n      var currentDomain = Selection.getBounds(_objectSpread(_objectSpread({}, constrainedBox), {}, {\n        scale: scale,\n        horizontal: horizontal\n      }));\n\n      var mutatedProps = _objectSpread({\n        currentDomain: currentDomain,\n        parentSVG: parentSVG,\n        startX: pannedBox.x2 >= fullDomainBox.x2 || pannedBox.x1 <= fullDomainBox.x1 ? startX : x,\n        startY: pannedBox.y2 >= fullDomainBox.y2 || pannedBox.y1 <= fullDomainBox.y1 ? startY : y\n      }, constrainedBox);\n\n      if (_isFunction(onBrushDomainChange)) {\n        onBrushDomainChange(currentDomain, _defaults({}, mutatedProps, targetProps));\n      }\n\n      return [{\n        target: \"parent\",\n        mutation: function () {\n          return mutatedProps;\n        }\n      }];\n    } else if (allowResize && isSelecting) {\n      var _this$constrainPoint = this.constrainPoint({\n        x: brushDimension !== \"y\" ? x : targetProps.x2,\n        y: brushDimension !== \"x\" ? y : targetProps.y2\n      }, fullDomainBox),\n          x2 = _this$constrainPoint.x,\n          y2 = _this$constrainPoint.y;\n\n      var _currentDomain = Selection.getBounds({\n        x2: x2,\n        y2: y2,\n        x1: targetProps.x1,\n        y1: targetProps.y1,\n        scale: scale,\n        horizontal: horizontal\n      });\n\n      var _mutatedProps = {\n        x2: x2,\n        y2: y2,\n        currentDomain: _currentDomain,\n        parentSVG: parentSVG\n      };\n\n      if (_isFunction(onBrushDomainChange)) {\n        onBrushDomainChange(_currentDomain, _defaults({}, _mutatedProps, targetProps));\n      }\n\n      return [{\n        target: \"parent\",\n        mutation: function () {\n          return _mutatedProps;\n        }\n      }];\n    }\n\n    return {};\n  },\n  // eslint-disable-next-line complexity\n  onGlobalMouseUp: function (evt, targetProps) {\n    // if a panning or selection has not been started, ignore the event\n    if (!targetProps.isPanning && !targetProps.isSelecting) {\n      return {};\n    } // eslint-disable-line max-statements, complexity\n\n\n    var x1 = targetProps.x1,\n        y1 = targetProps.y1,\n        x2 = targetProps.x2,\n        y2 = targetProps.y2,\n        isPanning = targetProps.isPanning,\n        isSelecting = targetProps.isSelecting,\n        onBrushDomainChange = targetProps.onBrushDomainChange,\n        onBrushDomainChangeEnd = targetProps.onBrushDomainChangeEnd,\n        onBrushCleared = targetProps.onBrushCleared,\n        currentDomain = targetProps.currentDomain,\n        allowResize = targetProps.allowResize,\n        allowDrag = targetProps.allowDrag;\n    var defaultBrushArea = !allowResize && !targetProps.defaultBrushArea ? \"move\" : targetProps.defaultBrushArea;\n    var defaultBrushHasArea = defaultBrushArea !== undefined && defaultBrushArea !== \"none\";\n    var mutatedProps = {\n      isPanning: false,\n      isSelecting: false\n    }; // if the mouse hasn't moved since a mouseDown event, select the default brush area\n\n    if ((allowResize || defaultBrushHasArea) && (x1 === x2 || y1 === y2)) {\n      var cachedDomain = targetProps.cachedCurrentDomain || currentDomain;\n      var defaultDomain = this.getDefaultBrushArea(targetProps, cachedDomain, evt);\n      mutatedProps.currentDomain = defaultDomain;\n\n      if (_isFunction(onBrushDomainChange)) {\n        onBrushDomainChange(defaultDomain, _defaults({}, mutatedProps, targetProps));\n      }\n\n      if (_isFunction(onBrushDomainChangeEnd)) {\n        onBrushDomainChangeEnd(defaultDomain, _defaults({}, mutatedProps, targetProps));\n      }\n\n      if (_isFunction(onBrushCleared)) {\n        onBrushCleared(defaultDomain, _defaults({}, mutatedProps, targetProps));\n      }\n    } else if (allowDrag && isPanning || allowResize && isSelecting) {\n      if (_isFunction(onBrushDomainChangeEnd)) {\n        onBrushDomainChangeEnd(currentDomain, _defaults({}, mutatedProps, targetProps));\n      }\n    }\n\n    return [{\n      target: \"parent\",\n      mutation: function () {\n        return mutatedProps;\n      }\n    }];\n  }\n};\nexport default _objectSpread(_objectSpread({}, Helpers), {}, {\n  onMouseDown: Helpers.onMouseDown.bind(Helpers),\n  onGlobalMouseUp: Helpers.onGlobalMouseUp.bind(Helpers),\n  onGlobalMouseMove: _throttle(Helpers.onGlobalMouseMove.bind(Helpers), 16, // eslint-disable-line no-magic-numbers\n  {\n    leading: true,\n    trailing: false\n  })\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}