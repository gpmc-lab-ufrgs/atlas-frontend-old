{"ast":null,"code":"import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from \"react\";\nimport * as Axis from \"./axis\";\nimport * as Style from \"./style\";\nimport * as Data from \"./data\";\nimport * as Domain from \"./domain\";\nimport * as Events from \"./events\";\nimport * as Collection from \"./collection\";\nimport * as Helpers from \"./helpers\";\nimport * as Scale from \"./scale\";\nimport * as Log from \"./log\";\nexport function addBinsToParentPropsIfHistogram(_ref) {\n  var children = _ref.children,\n      props = _ref.props,\n      childComponents = _ref.childComponents,\n      parentProps = _ref.parentProps;\n  var someChildrenAreHistograms = children.some(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n  var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n\n  if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n    Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n  } // if we are stacking histograms, we need to generate explicit bins\n  // or else each histogram may end up having different bins\n\n\n  if (!allChildrenAreHistograms) {\n    return parentProps;\n  }\n\n  var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n  if (!Array.isArray(childBins)) {\n    var combinedData = children.reduce(function (memo, child) {\n      var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n      return memo.concat(child.props.data.map(function (datum) {\n        return {\n          x: xAccessor(datum)\n        };\n      }));\n    }, []); // use the same function to generate bins as VictoryHistogram but with\n    // the combined data from above, then get explicit bins from that\n\n    var getFormattedHistogramData = children[0].type.getFormattedData;\n    childBins = getFormattedHistogramData({\n      data: combinedData,\n      bins: childBins\n    }).reduce(function (memo, _ref2, index) {\n      var x0 = _ref2.x0,\n          x1 = _ref2.x1;\n      return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n    }, []);\n  }\n\n  return _objectSpread(_objectSpread({}, parentProps), {}, {\n    bins: childBins\n  });\n}\nexport function getDataFromChildren(props, childComponents) {\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain;\n  var parentProps = {\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    categories: categories,\n    minDomain: minDomain,\n    maxDomain: maxDomain\n  };\n  var stack = 0;\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  parentProps = addBinsToParentPropsIfHistogram({\n    children: children,\n    props: props,\n    childComponents: childComponents,\n    parentProps: parentProps\n  });\n\n  var iteratee = function (child, childName, parent) {\n    var childProps = _assign({}, child.props, parentProps);\n\n    var childData;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      child = parent ? /*#__PURE__*/React.cloneElement(child, parent.props) : child;\n      childData = child.type.getData(childProps);\n    } else {\n      childData = Data.getData(childProps);\n    }\n\n    stack += 1;\n    return childData.map(function (datum, index) {\n      return _assign({\n        _stack: stack,\n        _group: index\n      }, datum);\n    });\n  };\n\n  var stacked = children.filter(function (c) {\n    return c.type && c.type.role === \"stack\";\n  }).length;\n\n  var combine = function (memo, val) {\n    return memo.concat(_uniqBy(val, \"_group\"));\n  };\n\n  var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n  var group = stacked ? \"_group\" : \"_stack\";\n  return _values(_groupBy(datasets, group));\n}\nexport function getData(props, childComponents) {\n  if (props.data) {\n    return Data.getData(props);\n  }\n\n  childComponents = childComponents || React.Children.toArray(props.children);\n  return getDataFromChildren(childComponents);\n}\nexport function getWidth(props, groupLength, seriesLength) {\n  var datasets = props.datasets,\n      horizontal = props.horizontal;\n  var range = horizontal ? Helpers.getRange(props, \"y\") : Helpers.getRange(props, \"x\");\n  var extent = Math.abs(range[1] - range[0]);\n  seriesLength = seriesLength !== undefined ? seriesLength : Array.isArray(datasets[0]) && datasets[0].length || 1;\n  groupLength = groupLength || datasets.length;\n  var bars = groupLength * seriesLength;\n  var barRatio = 0.5;\n  return Math.round(barRatio * extent / bars);\n}\nexport function getDefaultDomainPadding(props, axis, childComponents) {\n  if (props.polar || axis !== \"x\") {\n    return undefined;\n  }\n\n  var groupComponent = childComponents.filter(function (child) {\n    return child.type && child.type.role && child.type.role === \"group\";\n  });\n\n  if (groupComponent.length < 1) {\n    return undefined;\n  }\n\n  var _groupComponent$0$pro = groupComponent[0].props,\n      offset = _groupComponent$0$pro.offset,\n      children = _groupComponent$0$pro.children;\n\n  if (!offset) {\n    return undefined;\n  }\n\n  var firstChild = Array.isArray(children) && children[0];\n\n  if (!firstChild) {\n    return undefined;\n  }\n\n  var barWidth = firstChild.props.barWidth;\n  var dataLength = firstChild.props.data && firstChild.props.data.length || 1;\n\n  if (firstChild && firstChild.type.role === \"stack\") {\n    var nestedChild = firstChild.props.children && firstChild.props.children[0];\n\n    if (!nestedChild) {\n      return undefined;\n    }\n\n    barWidth = nestedChild.props.barWidth;\n    dataLength = firstChild.props.children.length;\n  }\n\n  var width = barWidth || getWidth(props, children.length, dataLength);\n  return {\n    x: width * children.length / 2 + (offset - width * ((children.length - 1) / 2))\n  };\n}\nexport function getDomainFromChildren(props, axis, childComponents) {\n  // eslint-disable-line max-statements, complexity, max-len\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  var parentData = props.data ? Data.getData(props, axis) : undefined;\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain,\n      horizontal = props.horizontal;\n  var baseParentProps = {\n    horizontal: horizontal,\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    minDomain: minDomain,\n    maxDomain: maxDomain,\n    categories: categories\n  };\n  var parentProps = parentData ? _assign(baseParentProps, {\n    data: parentData\n  }) : baseParentProps;\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, parentProps);\n\n    if (!Domain.isDomainComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getDomain)) {\n      return child.props && child.type.getDomain(sharedProps, axis);\n    } else {\n      return Domain.getDomain(sharedProps, axis);\n    }\n  };\n\n  var childDomains = Helpers.reduceChildren(children, iteratee, props);\n  var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n  var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n  return [min, max];\n}\nexport function getDomain(props, axis, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var propsDomain = Domain.getDomainFromProps(props, axis);\n  var domainPadding = getDefaultDomainPadding(props, axis, childComponents);\n  var domain;\n\n  if (propsDomain) {\n    domain = propsDomain;\n  } else {\n    var minDomain = Domain.getMinFromProps(props, axis);\n    var maxDomain = Domain.getMaxFromProps(props, axis);\n    var dataset = (props.data || props.y) && Data.getData(props);\n    var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n    var childDomain = getDomainFromChildren(props, axis, childComponents);\n    var min = minDomain || Collection.getMinValue([].concat(_toConsumableArray(dataDomain), _toConsumableArray(childDomain)));\n    var max = maxDomain || Collection.getMaxValue([].concat(_toConsumableArray(dataDomain), _toConsumableArray(childDomain)));\n    domain = Domain.getDomainFromMinMax(min, max);\n  }\n\n  return Domain.formatDomain(domain, _assign({\n    domainPadding: domainPadding\n  }, props), axis);\n}\nexport function getScale(props, axis, childComponents) {\n  if (props.data) {\n    return Scale.getBaseScale(props, axis);\n  }\n\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, {\n      horizontal: props.horizontal\n    });\n\n    return Scale.getScaleType(sharedProps, axis);\n  };\n\n  var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n  return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n}\nexport function getAllEvents(props) {\n  var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n  var componentEvents = Events.getComponentEvents(props, components);\n  var events = props.events;\n\n  if (Array.isArray(componentEvents)) {\n    events = Array.isArray(props.events) ? componentEvents.concat.apply(componentEvents, _toConsumableArray(props.events)) : componentEvents;\n  }\n\n  return events || [];\n}\nexport function getColor(calculatedProps, child, index) {\n  // check for styles first\n  var style = calculatedProps.style;\n  var colorScale = calculatedProps.colorScale,\n      color = calculatedProps.color;\n\n  if (style && style.data && style.data.fill) {\n    return style.data.fill;\n  }\n\n  colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n  color = child.props && child.props.color ? child.props.color : color;\n\n  if (!colorScale && !color) {\n    return undefined;\n  }\n\n  var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n  return color || colors[index % colors.length];\n}\nexport function getStyle(theme, style, role) {\n  var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n  return Helpers.getStyles(style, defaultStyle);\n}\nexport function getChildStyle(child, index, calculatedProps) {\n  var style = calculatedProps.style,\n      role = calculatedProps.role;\n  var childStyle = child.props.style || {};\n\n  if (Array.isArray(childStyle)) {\n    return childStyle;\n  }\n\n  var childRole = child.type && child.type.role;\n  var defaultFill = childRole === \"stack\" ? undefined : getColor(calculatedProps, child, index);\n  var defaultColor = childRole === \"line\" ? {\n    fill: \"none\",\n    stroke: defaultFill\n  } : {\n    fill: defaultFill\n  };\n  var dataWidth = role === \"stack\" ? {} : {\n    width: getWidth(calculatedProps)\n  };\n\n  var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n  var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n  return {\n    parent: style.parent,\n    data: dataStyle,\n    labels: labelsStyle\n  };\n}\nexport function getStringsFromCategories(childComponents, axis) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n\n    if (!Domain.isDomainComponent(child) || !childProps.categories) {\n      return null;\n    } else {\n      var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n      var categoryStrings = categories && categories.filter(function (val) {\n        return typeof val === \"string\";\n      });\n      return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n    }\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n}\nexport function getStringsFromData(childComponents) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n    var data;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      data = child.type.getData(childProps);\n    } else {\n      data = Data.getData(childProps);\n    }\n\n    return data.map(function (d) {\n      return {\n        x: d.xName,\n        y: d.yName\n      };\n    });\n  };\n\n  var initialMemo = {\n    x: [],\n    y: []\n  };\n\n  var combine = function (memo, datum) {\n    var x = Array.isArray(datum) ? datum.map(function (d) {\n      return d.x;\n    }).filter(Boolean) : datum.x;\n    var y = Array.isArray(datum) ? datum.map(function (d) {\n      return d.y;\n    }).filter(Boolean) : datum.y;\n    return {\n      x: x !== undefined ? memo.x.concat(x) : memo.x,\n      y: y !== undefined ? memo.y.concat(y) : memo.y\n    };\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n}\nexport function getCategoryAndAxisStringsFromChildren(props, axis, childComponents) {\n  var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n  var axisComponent = Axis.getAxisComponent(childComponents, axis);\n  var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n  var categoryStrings = categories || getStringsFromCategories(childComponents, axis);\n  return _uniq(_flatten([].concat(_toConsumableArray(categoryStrings), _toConsumableArray(axisStrings))));\n}\nexport function getStringsFromChildren(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var xStrings = getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n  var yStrings = getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n  var dataStrings = getStringsFromData(childComponents);\n  return {\n    x: _uniq(_flatten([].concat(_toConsumableArray(xStrings), _toConsumableArray(dataStrings.x)))),\n    y: _uniq(_flatten([].concat(_toConsumableArray(yStrings), _toConsumableArray(dataStrings.y))))\n  };\n}\nexport function getCategories(props, childComponents, allStrings) {\n  var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n  var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n  var fallbackRequired = !xPropCategories || !yPropCategories;\n  var fallbackProps = fallbackRequired ? allStrings || getStringsFromChildren(props, childComponents) : {};\n  var xCategories = xPropCategories || fallbackProps.x;\n  var yCategories = yPropCategories || fallbackProps.y;\n  return {\n    x: xCategories.length > 0 ? xCategories : undefined,\n    y: yCategories.length > 0 ? yCategories : undefined\n  };\n}","map":{"version":3,"names":["_isPlainObject","_values","_uniqBy","_groupBy","_uniq","_isFunction","_flatten","_defaults","_assign","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","React","Axis","Style","Data","Domain","Events","Collection","Helpers","Scale","Log","addBinsToParentPropsIfHistogram","_ref","children","props","childComponents","parentProps","someChildrenAreHistograms","some","child","type","role","allChildrenAreHistograms","every","warn","childBins","bins","combinedData","reduce","memo","xAccessor","createAccessor","x","concat","data","map","datum","getFormattedHistogramData","getFormattedData","_ref2","index","x0","x1","getDataFromChildren","polar","startAngle","endAngle","categories","minDomain","maxDomain","stack","Children","toArray","iteratee","childName","parent","childProps","childData","isDataComponent","getData","cloneElement","_stack","_group","stacked","c","combine","val","datasets","reduceChildren","group","getWidth","groupLength","seriesLength","horizontal","range","getRange","extent","Math","abs","undefined","bars","barRatio","round","getDefaultDomainPadding","axis","groupComponent","_groupComponent$0$pro","offset","firstChild","barWidth","dataLength","nestedChild","width","getDomainFromChildren","parentData","baseParentProps","sharedProps","isDomainComponent","getDomain","childDomains","min","getMinValue","max","getMaxValue","propsDomain","getDomainFromProps","domainPadding","domain","getMinFromProps","getMaxFromProps","dataset","y","dataDomain","getDomainFromData","childDomain","getDomainFromMinMax","formatDomain","getScale","getBaseScale","getScaleType","childScale","getScaleFromName","getAllEvents","components","componentEvents","getComponentEvents","events","getColor","calculatedProps","style","colorScale","color","fill","colors","getColorScale","getStyle","theme","defaultStyle","getStyles","getChildStyle","childStyle","childRole","defaultFill","defaultColor","stroke","dataWidth","dataStyle","labelsStyle","labels","getStringsFromCategories","categoryStrings","removeUndefined","getStringsFromData","d","xName","yName","initialMemo","Boolean","getCategoryAndAxisStringsFromChildren","axisComponent","getAxisComponent","axisStrings","getStringsFromAxes","getStringsFromChildren","xStrings","yStrings","dataStrings","getCategories","allStrings","xPropCategories","yPropCategories","fallbackRequired","fallbackProps","xCategories","yCategories"],"sources":["/Users/leonardogomes/Documents/atlas/atlas/node_modules/victory-core/es/victory-util/wrapper.js"],"sourcesContent":["import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport * as Axis from \"./axis\";\nimport * as Style from \"./style\";\nimport * as Data from \"./data\";\nimport * as Domain from \"./domain\";\nimport * as Events from \"./events\";\nimport * as Collection from \"./collection\";\nimport * as Helpers from \"./helpers\";\nimport * as Scale from \"./scale\";\nimport * as Log from \"./log\";\nexport function addBinsToParentPropsIfHistogram(_ref) {\n  var children = _ref.children,\n      props = _ref.props,\n      childComponents = _ref.childComponents,\n      parentProps = _ref.parentProps;\n  var someChildrenAreHistograms = children.some(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n  var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n    return child.type && child.type.role === \"histogram\";\n  });\n\n  if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n    Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n  } // if we are stacking histograms, we need to generate explicit bins\n  // or else each histogram may end up having different bins\n\n\n  if (!allChildrenAreHistograms) {\n    return parentProps;\n  }\n\n  var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n  if (!Array.isArray(childBins)) {\n    var combinedData = children.reduce(function (memo, child) {\n      var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n      return memo.concat(child.props.data.map(function (datum) {\n        return {\n          x: xAccessor(datum)\n        };\n      }));\n    }, []); // use the same function to generate bins as VictoryHistogram but with\n    // the combined data from above, then get explicit bins from that\n\n    var getFormattedHistogramData = children[0].type.getFormattedData;\n    childBins = getFormattedHistogramData({\n      data: combinedData,\n      bins: childBins\n    }).reduce(function (memo, _ref2, index) {\n      var x0 = _ref2.x0,\n          x1 = _ref2.x1;\n      return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n    }, []);\n  }\n\n  return _objectSpread(_objectSpread({}, parentProps), {}, {\n    bins: childBins\n  });\n}\nexport function getDataFromChildren(props, childComponents) {\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain;\n  var parentProps = {\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    categories: categories,\n    minDomain: minDomain,\n    maxDomain: maxDomain\n  };\n  var stack = 0;\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  parentProps = addBinsToParentPropsIfHistogram({\n    children: children,\n    props: props,\n    childComponents: childComponents,\n    parentProps: parentProps\n  });\n\n  var iteratee = function (child, childName, parent) {\n    var childProps = _assign({}, child.props, parentProps);\n\n    var childData;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      child = parent ? /*#__PURE__*/React.cloneElement(child, parent.props) : child;\n      childData = child.type.getData(childProps);\n    } else {\n      childData = Data.getData(childProps);\n    }\n\n    stack += 1;\n    return childData.map(function (datum, index) {\n      return _assign({\n        _stack: stack,\n        _group: index\n      }, datum);\n    });\n  };\n\n  var stacked = children.filter(function (c) {\n    return c.type && c.type.role === \"stack\";\n  }).length;\n\n  var combine = function (memo, val) {\n    return memo.concat(_uniqBy(val, \"_group\"));\n  };\n\n  var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n  var group = stacked ? \"_group\" : \"_stack\";\n  return _values(_groupBy(datasets, group));\n}\nexport function getData(props, childComponents) {\n  if (props.data) {\n    return Data.getData(props);\n  }\n\n  childComponents = childComponents || React.Children.toArray(props.children);\n  return getDataFromChildren(childComponents);\n}\nexport function getWidth(props, groupLength, seriesLength) {\n  var datasets = props.datasets,\n      horizontal = props.horizontal;\n  var range = horizontal ? Helpers.getRange(props, \"y\") : Helpers.getRange(props, \"x\");\n  var extent = Math.abs(range[1] - range[0]);\n  seriesLength = seriesLength !== undefined ? seriesLength : Array.isArray(datasets[0]) && datasets[0].length || 1;\n  groupLength = groupLength || datasets.length;\n  var bars = groupLength * seriesLength;\n  var barRatio = 0.5;\n  return Math.round(barRatio * extent / bars);\n}\nexport function getDefaultDomainPadding(props, axis, childComponents) {\n  if (props.polar || axis !== \"x\") {\n    return undefined;\n  }\n\n  var groupComponent = childComponents.filter(function (child) {\n    return child.type && child.type.role && child.type.role === \"group\";\n  });\n\n  if (groupComponent.length < 1) {\n    return undefined;\n  }\n\n  var _groupComponent$0$pro = groupComponent[0].props,\n      offset = _groupComponent$0$pro.offset,\n      children = _groupComponent$0$pro.children;\n\n  if (!offset) {\n    return undefined;\n  }\n\n  var firstChild = Array.isArray(children) && children[0];\n\n  if (!firstChild) {\n    return undefined;\n  }\n\n  var barWidth = firstChild.props.barWidth;\n  var dataLength = firstChild.props.data && firstChild.props.data.length || 1;\n\n  if (firstChild && firstChild.type.role === \"stack\") {\n    var nestedChild = firstChild.props.children && firstChild.props.children[0];\n\n    if (!nestedChild) {\n      return undefined;\n    }\n\n    barWidth = nestedChild.props.barWidth;\n    dataLength = firstChild.props.children.length;\n  }\n\n  var width = barWidth || getWidth(props, children.length, dataLength);\n  return {\n    x: width * children.length / 2 + (offset - width * ((children.length - 1) / 2))\n  };\n}\nexport function getDomainFromChildren(props, axis, childComponents) {\n  // eslint-disable-line max-statements, complexity, max-len\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n  var parentData = props.data ? Data.getData(props, axis) : undefined;\n  var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain,\n      horizontal = props.horizontal;\n  var baseParentProps = {\n    horizontal: horizontal,\n    polar: polar,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    minDomain: minDomain,\n    maxDomain: maxDomain,\n    categories: categories\n  };\n  var parentProps = parentData ? _assign(baseParentProps, {\n    data: parentData\n  }) : baseParentProps;\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, parentProps);\n\n    if (!Domain.isDomainComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getDomain)) {\n      return child.props && child.type.getDomain(sharedProps, axis);\n    } else {\n      return Domain.getDomain(sharedProps, axis);\n    }\n  };\n\n  var childDomains = Helpers.reduceChildren(children, iteratee, props);\n  var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n  var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n  return [min, max];\n}\nexport function getDomain(props, axis, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var propsDomain = Domain.getDomainFromProps(props, axis);\n  var domainPadding = getDefaultDomainPadding(props, axis, childComponents);\n  var domain;\n\n  if (propsDomain) {\n    domain = propsDomain;\n  } else {\n    var minDomain = Domain.getMinFromProps(props, axis);\n    var maxDomain = Domain.getMaxFromProps(props, axis);\n    var dataset = (props.data || props.y) && Data.getData(props);\n    var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n    var childDomain = getDomainFromChildren(props, axis, childComponents);\n    var min = minDomain || Collection.getMinValue([].concat(_toConsumableArray(dataDomain), _toConsumableArray(childDomain)));\n    var max = maxDomain || Collection.getMaxValue([].concat(_toConsumableArray(dataDomain), _toConsumableArray(childDomain)));\n    domain = Domain.getDomainFromMinMax(min, max);\n  }\n\n  return Domain.formatDomain(domain, _assign({\n    domainPadding: domainPadding\n  }, props), axis);\n}\nexport function getScale(props, axis, childComponents) {\n  if (props.data) {\n    return Scale.getBaseScale(props, axis);\n  }\n\n  var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n  var iteratee = function (child) {\n    var sharedProps = _assign({}, child.props, {\n      horizontal: props.horizontal\n    });\n\n    return Scale.getScaleType(sharedProps, axis);\n  };\n\n  var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n  return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n}\nexport function getAllEvents(props) {\n  var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n  var componentEvents = Events.getComponentEvents(props, components);\n  var events = props.events;\n\n  if (Array.isArray(componentEvents)) {\n    events = Array.isArray(props.events) ? componentEvents.concat.apply(componentEvents, _toConsumableArray(props.events)) : componentEvents;\n  }\n\n  return events || [];\n}\nexport function getColor(calculatedProps, child, index) {\n  // check for styles first\n  var style = calculatedProps.style;\n  var colorScale = calculatedProps.colorScale,\n      color = calculatedProps.color;\n\n  if (style && style.data && style.data.fill) {\n    return style.data.fill;\n  }\n\n  colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n  color = child.props && child.props.color ? child.props.color : color;\n\n  if (!colorScale && !color) {\n    return undefined;\n  }\n\n  var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n  return color || colors[index % colors.length];\n}\nexport function getStyle(theme, style, role) {\n  var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n  return Helpers.getStyles(style, defaultStyle);\n}\nexport function getChildStyle(child, index, calculatedProps) {\n  var style = calculatedProps.style,\n      role = calculatedProps.role;\n  var childStyle = child.props.style || {};\n\n  if (Array.isArray(childStyle)) {\n    return childStyle;\n  }\n\n  var childRole = child.type && child.type.role;\n  var defaultFill = childRole === \"stack\" ? undefined : getColor(calculatedProps, child, index);\n  var defaultColor = childRole === \"line\" ? {\n    fill: \"none\",\n    stroke: defaultFill\n  } : {\n    fill: defaultFill\n  };\n  var dataWidth = role === \"stack\" ? {} : {\n    width: getWidth(calculatedProps)\n  };\n\n  var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n  var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n  return {\n    parent: style.parent,\n    data: dataStyle,\n    labels: labelsStyle\n  };\n}\nexport function getStringsFromCategories(childComponents, axis) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n\n    if (!Domain.isDomainComponent(child) || !childProps.categories) {\n      return null;\n    } else {\n      var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n      var categoryStrings = categories && categories.filter(function (val) {\n        return typeof val === \"string\";\n      });\n      return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n    }\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n}\nexport function getStringsFromData(childComponents) {\n  var iteratee = function (child) {\n    var childProps = child.props || {};\n    var data;\n\n    if (!Data.isDataComponent(child)) {\n      return null;\n    } else if (child.type && _isFunction(child.type.getData)) {\n      data = child.type.getData(childProps);\n    } else {\n      data = Data.getData(childProps);\n    }\n\n    return data.map(function (d) {\n      return {\n        x: d.xName,\n        y: d.yName\n      };\n    });\n  };\n\n  var initialMemo = {\n    x: [],\n    y: []\n  };\n\n  var combine = function (memo, datum) {\n    var x = Array.isArray(datum) ? datum.map(function (d) {\n      return d.x;\n    }).filter(Boolean) : datum.x;\n    var y = Array.isArray(datum) ? datum.map(function (d) {\n      return d.y;\n    }).filter(Boolean) : datum.y;\n    return {\n      x: x !== undefined ? memo.x.concat(x) : memo.x,\n      y: y !== undefined ? memo.y.concat(y) : memo.y\n    };\n  };\n\n  return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n}\nexport function getCategoryAndAxisStringsFromChildren(props, axis, childComponents) {\n  var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n  var axisComponent = Axis.getAxisComponent(childComponents, axis);\n  var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n  var categoryStrings = categories || getStringsFromCategories(childComponents, axis);\n  return _uniq(_flatten([].concat(_toConsumableArray(categoryStrings), _toConsumableArray(axisStrings))));\n}\nexport function getStringsFromChildren(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var xStrings = getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n  var yStrings = getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n  var dataStrings = getStringsFromData(childComponents);\n  return {\n    x: _uniq(_flatten([].concat(_toConsumableArray(xStrings), _toConsumableArray(dataStrings.x)))),\n    y: _uniq(_flatten([].concat(_toConsumableArray(yStrings), _toConsumableArray(dataStrings.y))))\n  };\n}\nexport function getCategories(props, childComponents, allStrings) {\n  var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n  var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n  var fallbackRequired = !xPropCategories || !yPropCategories;\n  var fallbackProps = fallbackRequired ? allStrings || getStringsFromChildren(props, childComponents) : {};\n  var xCategories = xPropCategories || fallbackProps.x;\n  var yCategories = yPropCategories || fallbackProps.y;\n  return {\n    x: xCategories.length > 0 ? xCategories : undefined,\n    y: yCategories.length > 0 ? yCategories : undefined\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}